# MMOS Taxonomy System - Complete Architecture

**Version:** 1.0.0
**Date:** October 12, 2025
**Status:** Architecture Document
**Owner:** Academia Lendar[IA]

---

## Executive Summary

This document defines the complete taxonomy system for MMOS (Mind Mapper OS), establishing unified naming conventions, entity relationships, and data governance standards across the entire cognitive mapping pipeline.

**Key Goals:**
- Eliminate nomenclature inconsistencies
- Establish clear entity relationships
- Define standard schemas for all data types
- Enable scalable database architecture
- Maintain backward compatibility with existing 22+ minds

---

## Table of Contents

1. [Core Taxonomy Domains](#1-core-taxonomy-domains)
2. [Entity-Relationship Model](#2-entity-relationship-model)
3. [Naming Conventions](#3-naming-conventions)
4. [Schema Standards](#4-schema-standards)
5. [Directory Structure](#5-directory-structure)
6. [Migration Strategy](#6-migration-strategy)
7. [Governance & Standards](#7-governance--standards)

---

## 1. Core Taxonomy Domains

MMOS architecture consists of **5 primary domains**:

```
┌─────────────────────────────────────────────────────────┐
│                    MMOS TAXONOMY                         │
├─────────────────────────────────────────────────────────┤
│                                                           │
│  ┌─────────────┐    ┌──────────────┐   ┌─────────────┐ │
│  │   MINDS     │───▶│   PIPELINE   │──▶│  ARTIFACTS  │ │
│  │  (Entities) │    │  (Process)   │   │  (Outputs)  │ │
│  └─────────────┘    └──────────────┘   └─────────────┘ │
│         │                   │                   │        │
│         │                   │                   │        │
│         ▼                   ▼                   ▼        │
│  ┌─────────────┐    ┌──────────────┐   ┌─────────────┐ │
│  │   SOURCES   │    │ ORCHESTRATION│   │   METADATA  │ │
│  │   (Inputs)  │    │   (System)   │   │ (Relations) │ │
│  └─────────────┘    └──────────────┘   └─────────────┘ │
│                                                           │
└─────────────────────────────────────────────────────────┘
```

### 1.1 Domain: MINDS (Core Entity)

**Definition:** Cognitive personalities being mapped through DNA Mental™ methodology.

**Attributes:**
- Unique identifier (slug: `sam_altman`, `elon_musk`)
- Display name
- Status (draft, mapping, completed, archived)
- Version (semantic versioning: v1.0.0, v1.1.0)
- APEX score (viability metric)
- ICP match (strategic fit)
- Created/updated timestamps

**Relationships:**
- 1 Mind → N System Prompts (generalista + specialists)
- 1 Mind → N Sources (books, interviews, videos)
- 1 Mind → N Artifacts (cognitive analysis outputs)
- 1 Mind → N Pipeline Executions (historical runs)
- 1 Mind → N KB Entries (knowledge base chunks)
- 1 Mind → N ETL Questions (questions during mapping)

### 1.2 Domain: PIPELINE (Process)

**Definition:** 6-phase DNA Mental™ workflow for cognitive mapping.

**Phases (Sequential):**

```
1. VIABILITY (4-6h)
   ├── APEX Scorecard
   ├── ICP Match Score
   ├── PRD Generation
   ├── Dependencies Mapping
   └── TODO Initialization

2. RESEARCH (24-36h)
   ├── Source Discovery
   ├── Parallel Collection (ETL)
   ├── Temporal Mapping
   ├── Priority Calculation
   ├── Sources Master
   └── ETL Q&A Extraction

3. ANALYSIS (48-72h)
   ├── Layer 1: Base Extraction (15%)
   ├── Layer 2: Linguistic Surface (30%)
   ├── Layer 3: Behavioral Patterns (45%)
   ├── Layer 4: Values Hierarchy (60%)
   ├── Layer 5: Belief System (70%)
   ├── Layer 6: Mental Models (80%)
   ├── Layer 7: Cognitive Singularity (85%)
   └── Layer 8: Productive Paradoxes (94%)

4. SYNTHESIS (12-18h)
   ├── Template Extraction
   ├── Phrases Mining
   ├── Frameworks Identification
   ├── Core Elements Synthesis
   └── KB Chunking

5. IMPLEMENTATION (8-12h)
   ├── Pattern Extraction
   ├── Identity Core Compilation
   ├── Meta Axioms Definition
   ├── Generalista Compiler
   ├── Specialist Creator
   └── Operational Manual

6. TESTING (12-24h)
   ├── Test Case Generation
   └── Personality Validation (94% target)
```

**Prompts Registry:** 59 prompts total across all phases

**Execution Model:**
- Sequential phases (cannot skip)
- Parallel prompts within phases (where dependencies allow)
- Human checkpoints (Layers 6, 7, 8, prompt review, production)
- Rollback capability (version control)

### 1.3 Domain: ARTIFACTS (Outputs)

**Definition:** Structured cognitive analysis outputs generated by pipeline prompts.

**Categories:**

#### A. Layer Artifacts (DNA Mental™)

| Layer | Fidelity | Artifacts Generated |
|-------|----------|---------------------|
| Layer 1 | 15% | `quotes_database.yaml`, `life_timeline.yaml` |
| Layer 2 | 30% | `writing_style.md`, `signature_phrases.md` |
| Layer 3 | 45% | `behavioral_patterns.md`, `routine_analysis.md` |
| Layer 4 | 60% | `values_hierarchy.yaml`, `decision_patterns.yaml` |
| Layer 5 | 70% | `beliefs_core.yaml`, `immune_system.md` |
| Layer 6 | 80% | `mental_models.md`, `recognition_patterns.yaml` |
| Layer 7 | 85% | `unique_algorithm.yaml`, `cognitive_architecture.yaml` |
| Layer 8 | 94% | `contradictions.yaml`, `identity_core.yaml` |

#### B. Synthesis Artifacts

- `communication_templates.md` - Response templates
- `frameworks_synthesized.md` - Master frameworks
- `core_elements.yaml` - Essential identity components

#### C. Implementation Artifacts

- `system_prompt_generalista.md` - General-purpose prompt
- `system_prompt_specialist_{domain}.md` - Domain-specific prompts
- `operational_manual.md` - Usage guide
- `testing_protocol.md` - QA procedures

#### D. Metadata Artifacts

- `PRD.md` - Product requirements
- `TODO.md` - Backlog tracking
- `LIMITATIONS.md` - Known constraints
- `dependencies.yaml` - External dependencies
- `temporal_context.yaml` - Historical timeline

### 1.4 Domain: SOURCES (Inputs)

**Definition:** Raw materials collected during research phase.

**Source Types:**

```yaml
books:
  format: [pdf, epub, mobi]
  priority: highest (deep insights)

articles:
  format: [html, markdown, pdf]
  priority: high (specific topics)

interviews:
  format: [transcript, video, audio]
  priority: highest (authentic voice)

videos:
  platforms: [youtube, vimeo, ted]
  format: [mp4, transcript]

podcasts:
  format: [mp3, transcript]
  priority: high (conversational style)

blogs:
  format: [html, markdown]
  priority: medium (ongoing thoughts)

social_media:
  platforms: [twitter, linkedin, reddit]
  format: [json, text]
  priority: medium (real-time reactions)

documents:
  format: [pdf, docx]
  types: [testimony, reports, memos]
```

**Source Metadata Schema:**

```yaml
source:
  id: unique_identifier
  mind_id: reference_to_mind
  type: [book|article|interview|video|podcast|blog|social|document]
  title: "Source Title"
  url: "https://..."
  status: [pending|collected|transcribed|processed]
  priority: [critical|high|medium|low]
  collection_date: ISO8601
  temporal_context:
    date: ISO8601 (when source was created)
    life_phase: [early|middle|recent]
    age_at_time: integer
  layer_relevance: [1, 2, 3, 4, 5, 6, 7, 8]
  confidence: [high|medium|low]
  processing_notes: "..."
  tags: [tag1, tag2, tag3]
```

### 1.5 Domain: ORCHESTRATION (System)

**Definition:** Execution infrastructure (agents, tasks, workflows).

#### A. Agents

| Agent ID | Role | Responsibilities |
|----------|------|------------------|
| `mind-mapper` | Orchestrator | Pipeline management, decision routing |
| `research-specialist` | Collector | Source discovery, parallel ETL |
| `cognitive-analyst` | Analyzer | DNA Mental™ layer analysis |
| `system-prompt-architect` | Compiler | System prompt engineering |
| `mind-pm` | Manager | Project tracking, checkpoint validation |

#### B. Tasks

| Task ID | Phase | Parallelizable | Human Checkpoint |
|---------|-------|----------------|------------------|
| `viability-assessment` | Viability | No | After PRD |
| `research-collection` | Research | Yes | After Master |
| `cognitive-analysis` | Analysis | Partial | After L6, L7, L8 |
| `synthesis-compilation` | Synthesis | Yes | No |
| `system-prompt-creation` | Implementation | No | Before production |
| `mind-validation` | Testing | No | Before production |
| `brownfield-update` | Any | No | Before merge |

#### C. Workflows

Defined in `expansion-packs/mmos/tasks/`:
- `execute-mmos-pipeline.md` - Full greenfield pipeline
- `brownfield-update.md` - Incremental updates

---

## 2. Entity-Relationship Model

### 2.1 Core Entities (Database Schema)

```sql
-- CORE ENTITIES
minds                 (PK: id)
system_prompts        (PK: id, FK: mind_id, FK: specialist_id)
specialists           (PK: id, FK: mind_id)
sources               (PK: id, FK: mind_id)
kb_entries            (PK: id, FK: mind_id)
pipeline_progress     (PK: mind_id, FK: mind_id)
templates             (PK: id)

-- ETL SYSTEM
etl_questions         (PK: id, FK: mind_id)
tags                  (PK: id)
etl_question_tags     (PK: question_id+tag_id)
etl_question_relations (PK: question_id+related_question_id)

-- EXTENDED ENTITIES (Epic 3+)
prompts_registry      (PK: id)
prompt_executions     (PK: id, FK: mind_id, FK: prompt_id)
layers                (PK: id)
artifacts             (PK: id, FK: mind_id, FK: layer_id, FK: prompt_id)
quotes                (PK: id, FK: source_id, FK: mind_id)
frameworks            (PK: id, FK: mind_id)
source_layer_mapping  (PK: source_id+layer_id)
```

### 2.2 Relationship Map

```
minds (1) ──────< (N) system_prompts
minds (1) ──────< (N) specialists
minds (1) ──────< (N) sources
minds (1) ──────< (N) kb_entries
minds (1) ──────< (1) pipeline_progress
minds (1) ──────< (N) etl_questions
minds (1) ──────< (N) prompt_executions
minds (1) ──────< (N) artifacts

system_prompts (N) ────< (1) specialists [optional]
system_prompts (N) ────< (1) templates [optional]

etl_questions (N) ────< (N) tags [via etl_question_tags]
etl_questions (N) ────< (N) etl_questions [via etl_question_relations]

artifacts (N) ────< (1) layers
artifacts (N) ────< (1) prompts_registry
artifacts (N) ────< (N) sources [via source references]

sources (N) ────< (N) layers [via source_layer_mapping]
sources (1) ──────< (N) quotes

prompt_executions (N) ────< (1) prompts_registry
prompt_executions (N) ────< (1) minds
```

### 2.3 Cardinality Rules

**STRICT (Enforced via Foreign Keys):**
- Every `system_prompt` MUST belong to 1 `mind`
- Every `source` MUST belong to 1 `mind`
- Every `etl_question` MUST belong to 1 `mind`
- Every `specialist` MUST belong to 1 `mind`

**OPTIONAL (Nullable Foreign Keys):**
- `system_prompts.specialist_id` (NULL = generalista)
- `system_prompts.template_id` (NULL = no template used)
- `artifacts.prompt_id` (NULL = manually created)

**MANY-TO-MANY (Junction Tables):**
- `sources` ↔ `layers` via `source_layer_mapping`
- `etl_questions` ↔ `tags` via `etl_question_tags`
- `etl_questions` ↔ `etl_questions` via `etl_question_relations`

---

## 3. Naming Conventions

### 3.1 File Naming

**Pattern:** `{entity}_{descriptor}[_{version}].{ext}`

**Examples:**
```
✅ CORRECT:
system_prompt_generalista_v1.0.0.md
cognitive_architecture_v2.md
quotes_database.yaml
sources_master.yaml
life_timeline.yaml

❌ INCORRECT:
SystemPrompt.md
system-prompt.md
prompt_v1.md (ambiguous entity)
generalista.md (missing entity prefix)
```

**Rules:**
- Use `snake_case` for all filenames
- Entity prefix is MANDATORY (e.g., `system_prompt_`, `artifact_`)
- Version suffix for versioned artifacts: `_v{major}.{minor}.{patch}`
- Timestamps for logs: `_{YYYY-MM-DD}` or `_{YYYYMMDD-HHMMSS}`

### 3.2 Directory Naming

**Pattern:** Plural nouns, lowercase, hyphens for multi-word

```
✅ CORRECT:
outputs/minds/sam_altman/
outputs/minds/sam_altman/system_prompts/
outputs/minds/sam_altman/artifacts/
outputs/minds/sam_altman/sources/
outputs/minds/sam_altman/kb/
docs/mmos/pipeline/
expansion-packs/mmos/

❌ INCORRECT:
docs/Mind/ (uppercase)
docs/systemPrompts/ (camelCase)
docs/system_prompt/ (singular)
```

### 3.3 Identifier Conventions

**Mind IDs (Slugs):**
- Format: `{first_name}_{last_name}`
- Lowercase, underscores only
- Examples: `sam_altman`, `elon_musk`, `naval_ravikant`

**Prompt IDs:**
- Format: `{phase}_{descriptor}`
- Lowercase, underscores only
- Examples: `viability_scorecard_apex`, `analysis_core_obsessions`

**Tag Names:**
- Format: Free text, normalized on insert
- Examples: `psychology`, `decision-making`, `layer-6`

**Specialist IDs:**
- Format: `{domain}_{role}`
- Examples: `business_consultant`, `copywriting_specialist`, `life_coach`

### 3.4 Schema Field Naming

**Database Columns:**
- `snake_case` for all column names
- Primary keys: `id` (INTEGER AUTOINCREMENT)
- Foreign keys: `{entity}_id` (e.g., `mind_id`, `source_id`)
- Timestamps: `created_at`, `updated_at`, `{action}_at`
- Status fields: `status` (TEXT with CHECK constraint)
- Boolean fields: `is_{property}` or `has_{property}` (INTEGER 0/1)

**YAML Keys:**
- `snake_case` for consistency with database
- Nested objects use same convention

**Examples:**
```yaml
mind:
  id: sam_altman
  display_name: Sam Altman
  apex_score: 8.5
  icp_match: high
  created_at: 2025-10-01T10:00:00Z
  pipeline_status: completed
```

---

## 4. Schema Standards

### 4.1 Standard Schemas by Entity

#### A. Mind Schema

```yaml
# File: outputs/minds/{mind_id}/metadata.yaml
mind:
  id: "{slug}"                          # sam_altman
  display_name: "{Full Name}"           # Sam Altman
  status: "{draft|mapping|completed|archived}"
  version: "{semver}"                   # v1.0.0
  apex_score: {float}                   # 8.5
  icp_match: "{high|medium|low}"
  domain: "{primary domain}"            # Technology, Business, etc.
  created_at: "{ISO8601}"
  updated_at: "{ISO8601}"
  description: "{brief bio}"
  tags: [tag1, tag2, tag3]
  metadata:
    birth_year: {integer}
    nationality: "{country}"
    primary_language: "{language}"
    industries: [industry1, industry2]
```

#### B. Source Schema

```yaml
# File: outputs/minds/{mind_id}/sources/sources_master.yaml
sources:
  - id: "{unique_id}"
    mind_id: "{mind_slug}"
    type: "{book|article|interview|video|podcast|blog|social|document}"
    title: "{Source Title}"
    url: "{URL}"
    status: "{pending|collected|transcribed|processed}"
    priority: "{critical|high|medium|low}"
    collection_date: "{ISO8601}"
    temporal_context:
      date: "{ISO8601}"
      life_phase: "{early|middle|recent}"
      age_at_time: {integer}
    layer_relevance: [1, 2, 3, 4, 5, 6, 7, 8]
    confidence: "{high|medium|low}"
    file_path: "{relative path}"
    file_size_mb: {float}
    processing_notes: "{notes}"
    tags: [tag1, tag2]
```

#### C. Artifact Schema

```yaml
# File: outputs/minds/{mind_id}/artifacts/{artifact_name}.yaml
artifact:
  id: "{unique_id}"
  mind_id: "{mind_slug}"
  name: "{artifact_name}"
  type: "{layer_output|synthesis_output|implementation_output}"
  layer: {1-8}                          # NULL if not layer-specific
  prompt_id: "{prompt_id}"
  version: "{semver}"
  status: "{draft|validated|approved}"
  created_at: "{ISO8601}"
  validated_at: "{ISO8601}"             # NULL if not validated
  validator: "{human_name}"             # NULL if not validated
  confidence: "{high|medium|low}"
  file_path: "{relative path}"
  metadata:
    word_count: {integer}
    sources_referenced: [source_id1, source_id2]
    tags: [tag1, tag2]
  content:
    # Artifact-specific content structure
```

#### D. System Prompt Schema

```yaml
# File: outputs/minds/{mind_id}/system_prompts/{timestamp}-v{version}-{type}.md
---
metadata:
  mind_id: "{mind_slug}"
  version: "{semver}"
  type: "{generalista|specialist}"
  specialist_domain: "{domain}"         # NULL if generalista
  created_at: "{ISO8601}"
  layers_included: [1, 2, 3, 4, 5, 6, 7, 8]
  word_count: {integer}
  fidelity_score: {float}               # NULL until tested
  status: "{draft|testing|production|archived}"
  based_on_template: "{template_id}"    # NULL if custom
---

# SYSTEM PROMPT CONTENT HERE
```

#### E. ETL Question Schema

```yaml
# File: outputs/minds/{mind_id}/kb/etl_questions.yaml
questions:
  - id: "{unique_id}"
    mind_id: "{mind_slug}"
    phase: "{viability|research|analysis|synthesis|implementation|testing}"
    layer: {1-10}                       # NULL if phase-level
    question_text: "{question}"
    context: "{why this question arose}"
    answer_text: "{answer}"             # NULL if unanswered
    answer_source: "{source_id}"        # NULL if unanswered
    answered_at: "{ISO8601}"            # NULL if unanswered
    priority: "{critical|high|medium|low}"
    status: "{pending|answered|blocked|irrelevant}"
    tags: [tag1, tag2]
    related_questions: [question_id1, question_id2]
    created_at: "{ISO8601}"
    updated_at: "{ISO8601}"
```

#### F. Pipeline Progress Schema

```yaml
# File: outputs/minds/{mind_id}/metadata/pipeline_progress.yaml
pipeline:
  mind_id: "{mind_slug}"
  current_phase: "{viability|research|analysis|synthesis|implementation|testing}"
  overall_progress: {0-100}             # Percentage
  started_at: "{ISO8601}"
  estimated_completion: "{ISO8601}"
  phases:
    viability:
      status: "{pending|in_progress|completed|blocked}"
      progress: {0-100}
      started_at: "{ISO8601}"
      completed_at: "{ISO8601}"
      prompts_completed: {integer}
      prompts_total: {integer}
      checkpoint_approved: {boolean}
      notes: "{status notes}"
    research:
      # Same structure
    analysis:
      # Same structure
    synthesis:
      # Same structure
    implementation:
      # Same structure
    testing:
      # Same structure
```

### 4.2 File Format Standards

**When to use each format:**

| Format | Use Case | Examples |
|--------|----------|----------|
| **YAML** | Structured metadata, configs, lists | `metadata.yaml`, `sources_master.yaml` |
| **JSON** | API responses, machine-readable data | `personality_profile.json`, `qa_dataset.json` |
| **Markdown** | Human-readable docs, prompts, artifacts | `PRD.md`, `system_prompt.md`, `cognitive_architecture.md` |
| **JSONL** | Streaming datasets, Q&A pairs | `qa_dataset.jsonl` |

**Conversion Rules:**
- YAML ↔ JSON: Lossless conversion expected
- Markdown with YAML frontmatter: For versioned documents
- JSONL: One JSON object per line (for RAG/fine-tuning)

---

## 5. Directory Structure

### 5.1 Standard Mind Directory

```
outputs/minds/{mind_id}/
├── metadata.yaml                      # Mind metadata (NEW)
├── README.md                          # Mind overview
│
├── system_prompts/                    # System prompts (versioned)
│   ├── generalista/
│   │   ├── v1.0.0.md
│   │   ├── v1.1.0.md
│   │   └── latest.md -> v1.1.0.md   # Symlink
│   └── specialists/
│       ├── business_consultant_v1.0.0.md
│       ├── copywriter_v1.0.0.md
│       └── life_coach_v1.0.0.md
│
├── artifacts/                         # Cognitive analysis outputs
│   ├── layer_1/
│   │   ├── quotes_database.yaml
│   │   └── life_timeline.yaml
│   ├── layer_2/
│   │   ├── writing_style.md
│   │   └── signature_phrases.md
│   ├── layer_3/
│   │   ├── behavioral_patterns.md
│   │   └── routine_analysis.md
│   ├── layer_4/
│   │   ├── values_hierarchy.yaml
│   │   └── decision_patterns.yaml
│   ├── layer_5/
│   │   ├── beliefs_core.yaml
│   │   └── immune_system.md
│   ├── layer_6/
│   │   ├── mental_models.md
│   │   └── recognition_patterns.yaml
│   ├── layer_7/
│   │   ├── unique_algorithm.yaml
│   │   └── cognitive_architecture.yaml
│   ├── layer_8/
│   │   ├── contradictions.yaml
│   │   └── identity_core.yaml
│   └── synthesis/
│       ├── communication_templates.md
│       ├── frameworks_synthesized.md
│       └── core_elements.yaml
│
├── sources/                           # Collected materials
│   ├── sources_master.yaml           # Inventory
│   ├── priority_matrix.yaml
│   ├── books/
│   ├── articles/
│   ├── interviews/
│   ├── videos/
│   ├── podcasts/
│   ├── blogs/
│   └── social_media/
│
├── kb/                                # Knowledge base
│   ├── qa_dataset.jsonl             # Q&A pairs (RAG/fine-tuning)
│   ├── etl_questions.yaml           # Questions during mapping
│   └── chunks/
│       ├── chunk_001.md
│       ├── chunk_002.md
│       └── ...
│
├── docs/                              # Documentation & logs
│   ├── PRD.md
│   ├── TODO.md
│   ├── LIMITATIONS.md
│   ├── operational_manual.md
│   ├── testing_protocol.md
│   ├── pipeline_progress.yaml
│   └── logs/
│       ├── 2025-10-01_viability.yaml
│       ├── 2025-10-05_research.yaml
│       └── ...
│
└── temp/                              # Temporary working files
    ├── analysis_drafts/
    └── synthesis_working/
```

### 5.2 MMOS System Directory

```
docs/mmos/
├── README.md                          # MMOS overview
│
├── architecture/                      # System architecture
│   ├── taxonomy-system.md            # THIS DOCUMENT
│   ├── database-schema.md
│   ├── pipeline-architecture.md
│   └── dna-mental-methodology.md
│
├── docs/                              # Core documentation
│   ├── PRD.md                        # Product requirements
│   ├── GETTING_STARTED.md
│   └── API_REFERENCE.md
│
├── epics/                             # Epic planning
│   ├── epic-1-orchestration-board.md
│   ├── epic-2-database-system.md
│   └── epic-3-taxonomy-normalization.md
│
├── stories/                           # Implementation stories
│   ├── story-1.1-board-engine.md
│   ├── story-2.1-database-schema.md
│   └── ...
│
├── pipeline/                          # Pipeline configs
│   ├── phases.yaml
│   ├── checkpoints.yaml
│   └── workflow_rules.yaml
│
├── prompts/                           # 59 prompt definitions
│   ├── viability_scorecard_apex.md
│   ├── research_source_discovery.md
│   ├── analysis_core_obsessions.md
│   └── ...
│
├── prompts.yaml                       # Prompts registry
│
├── templates/                         # Document templates
│   ├── prd_template.md
│   ├── system_prompt_template.md
│   └── validation_report_template.yaml
│
├── board/                             # Orchestration board
│   ├── board_config.yaml
│   └── dashboard_views/
│
└── logs/                              # System logs
    ├── launcher_history.yaml
    └── execution_logs/
```

### 5.3 Expansion Pack Directory

```
expansion-packs/mmos/
├── README.md
├── config.yaml                        # Pack configuration
├── LICENSE
│
├── agents/                            # Agent definitions
│   ├── mind-mapper.md
│   ├── research-specialist.md
│   ├── cognitive-analyst.md
│   ├── system-prompt-architect.md
│   └── mind-pm.md
│
├── tasks/                             # Task workflows
│   ├── execute-mmos-pipeline.md
│   ├── viability-assessment.md
│   ├── research-collection.md
│   ├── cognitive-analysis.md
│   ├── synthesis-compilation.md
│   ├── system-prompt-creation.md
│   ├── mind-validation.md
│   └── brownfield-update.md
│
├── templates/                         # Templates
│   ├── viability-output.yaml
│   ├── prd-template.md
│   ├── cognitive-spec.yaml
│   ├── system-prompt-generalista.md
│   └── ...
│
├── checklists/                        # Quality checklists
│   ├── viability-checklist.md
│   ├── research-quality-checklist.md
│   ├── analysis-completeness-checklist.md
│   └── ...
│
└── data/                              # Reference data
    ├── mmos-kb.md                    # Knowledge base
    └── layer_definitions.yaml
```

---

## 6. Migration Strategy

### 6.1 Current State Analysis

**22+ Existing Minds with inconsistent structure:**

```
❌ PROBLEMS:
1. Mixed directory structures (artifacts/ vs analysis/ vs synthesis/)
2. Inconsistent naming (some use timestamps, some don't)
3. No metadata.yaml files
4. System prompts not versioned properly
5. Sources not catalogued in sources_master.yaml
6. No pipeline_progress.yaml tracking
7. ETL questions scattered in various formats
8. No standardized tags system
```

### 6.2 Migration Phases

#### Phase 1: Backward Compatible Additions (Week 1)

**Goal:** Add new structure WITHOUT breaking existing files

**Actions:**
1. Create `metadata.yaml` for each mind (extract from README/PRD)
2. Generate `sources_master.yaml` from existing sources/ directory
3. Create `pipeline_progress.yaml` based on current completion
4. Add `etl_questions.yaml` (initially empty for old minds)
5. Reorganize `system_prompts/` with versioning + symlinks

**No File Deletions** - Old files remain for now

#### Phase 2: Artifacts Reorganization (Week 2)

**Goal:** Move artifacts into layer-based directory structure

**Actions:**
1. Create `artifacts/layer_{1-8}/` subdirectories
2. **Copy** (not move) artifacts to new locations based on layer mapping
3. Update references in system prompts (if any)
4. Create `artifacts/synthesis/` for non-layer artifacts

**Old `artifacts/` root files remain** for backward compatibility

#### Phase 3: Database Migration (Week 3-4)

**Goal:** Populate SQLite database from file-based data (Epic 2)

**Actions:**
1. Run migration scripts to populate database
2. Validate data integrity (foreign keys, referential integrity)
3. Export from database back to files (verify round-trip)
4. Keep files as **source of truth** initially

**Database is supplement, not replacement** (yet)

#### Phase 4: Deprecation & Cleanup (Week 5+)

**Goal:** Remove old structure after validation period

**Actions:**
1. Mark old locations as deprecated (add `DEPRECATED.md`)
2. Update all documentation to reference new paths
3. Run tests to ensure no broken references
4. After 2-week safety period, delete deprecated files
5. Switch to **database as source of truth**

### 6.3 Migration Scripts

```bash
# Script 1: Create metadata.yaml for all minds
./scripts/migrate_add_metadata.sh

# Script 2: Generate sources_master.yaml
./scripts/migrate_catalog_sources.sh

# Script 3: Reorganize artifacts by layer
./scripts/migrate_reorganize_artifacts.sh

# Script 4: Populate database from files
./scripts/migrate_populate_database.py

# Script 5: Validate migration
./scripts/migrate_validate.sh

# Script 6: Cleanup deprecated files
./scripts/migrate_cleanup_deprecated.sh
```

### 6.4 Rollback Plan

**If migration causes issues:**

1. **Files preserved** - Original structure never deleted until Phase 4
2. **Database export** - Can export database back to original file structure
3. **Git branches** - Migration on separate branch, can revert
4. **Backup** - Full backup before each phase
5. **Validation** - Each phase has validation script that must pass

**Rollback command:**
```bash
git checkout main
./scripts/rollback_migration.sh {phase_number}
```

---

## 7. Governance & Standards

### 7.1 Schema Evolution Policy

**Versioning:**
- Schema changes follow semantic versioning
- MAJOR: Breaking changes (e.g., removing required fields)
- MINOR: Backward-compatible additions (e.g., new optional fields)
- PATCH: Bug fixes, documentation updates

**Change Process:**
1. Propose schema change in GitHub issue
2. Document backward compatibility impact
3. Create migration script
4. Test on 3+ existing minds
5. Update this document
6. Merge only after validation

**Approval Required For:**
- Changes to core entity schemas (minds, sources, artifacts)
- Database schema modifications
- Directory structure changes
- Naming convention changes

### 7.2 Quality Standards

**All Entities Must Have:**
- ✅ Unique identifier (`id`)
- ✅ Timestamps (`created_at`, `updated_at`)
- ✅ Status field (with CHECK constraints)
- ✅ Foreign key relationships documented
- ✅ Schema validation rules

**All Files Must Have:**
- ✅ YAML frontmatter (for versioned documents)
- ✅ Clear entity/type identifier in filename
- ✅ ISO8601 timestamps where applicable
- ✅ snake_case naming
- ✅ UTF-8 encoding

**All Directories Must Have:**
- ✅ README.md explaining purpose
- ✅ Consistent plural naming
- ✅ Clear hierarchical structure
- ✅ .gitkeep for empty required directories

### 7.3 Validation Tools

**Automated Validation:**

```bash
# Validate all mind metadata.yaml files
npm run validate:minds

# Validate sources_master.yaml integrity
npm run validate:sources

# Validate database schema matches spec
npm run validate:database

# Validate file naming conventions
npm run validate:naming

# Validate artifact layer mapping
npm run validate:artifacts

# Full system validation
npm run validate:all
```

**CI/CD Integration:**
- All validation scripts run on PR
- Cannot merge if validation fails
- Automated reports generated

### 7.4 Documentation Requirements

**When Adding New Entity Type:**
1. Update this taxonomy document (Section 2)
2. Add schema definition (Section 4)
3. Update ER diagram
4. Create migration script
5. Update validation tools
6. Add to API reference (if applicable)

**When Modifying Existing Entity:**
1. Document change in CHANGELOG.md
2. Update schema version number
3. Create migration guide
4. Test on existing data
5. Update all references

### 7.5 Review & Maintenance

**Quarterly Review:**
- Assess taxonomy effectiveness
- Identify pain points
- Propose improvements
- Update documentation

**Annual Review:**
- Major version bump if needed
- Deprecate obsolete patterns
- Archive old versions
- Consolidate learnings

---

## Appendix A: Glossary

**Terms:**

- **Mind:** A cognitive personality being mapped (e.g., Sam Altman, Elon Musk)
- **DNA Mental™:** Proprietary 8-layer cognitive analysis methodology (94% fidelity)
- **Layer:** One of 8 cognitive depth levels (1 = surface, 8 = paradoxes)
- **Artifact:** Structured output from a pipeline prompt
- **Source:** Raw input material (book, interview, video, etc.)
- **Prompt:** Individual task in the pipeline (59 total)
- **Phase:** One of 6 pipeline stages (Viability → Testing)
- **Generalista:** General-purpose system prompt (all 8 layers)
- **Specialist:** Domain-specific system prompt (selected layers)
- **APEX Score:** Viability metric (6 dimensions, need 6.0+ to proceed)
- **ICP Match:** Ideal Customer Profile strategic fit score
- **Triangulation:** 3+ independent sources confirming a claim (Layers 5-8)
- **Brownfield:** Incremental update to existing mind (vs greenfield = new)
- **Fidelity:** Measurement of clone authenticity (target: 94%)
- **ETL Questions:** Questions arising during mapping process

---

## Appendix B: References

- [MMOS Knowledge Base](../expansion-packs/mmos/data/mmos-kb.md)
- [Epic 2: Database System](../mmos/epics/epic-2-database-system.md)
- [PRD: MMOS Product Requirements](../mmos/docs/PRD.md)
- [DNA Mental™ Methodology](../mmos/architecture/dna-mental-methodology.md)
- [Pipeline Architecture](../mmos/architecture/pipeline-architecture.md)

---

## Appendix C: Change Log

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 1.0.0 | 2025-10-12 | Initial taxonomy document | Academia Lendar[IA] |

---

**END OF DOCUMENT**

*This is a living document. Propose changes via GitHub issues.*
