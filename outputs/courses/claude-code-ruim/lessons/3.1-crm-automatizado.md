# Aula 3.1 - Caso Real: CRM Automatizado (20h/semana ‚Üí 0h)

**M√≥dulo:** 3 - Casos Reais de Alto ROI  
**Dura√ß√£o:** 15 minutos  
**N√≠vel Bloom:** Evaluate  
**Instrutor:** Jos√© Carlos Amorim

---

## üéØ GOAL

Construir **CRM automatizado completo** que elimina trabalho manual: coleta leads, enriquece dados, prioriza score, envia follow-ups. Tudo sozinho.

**Resultado concreto:** Pipeline funcional que economiza 20h/semana + aumenta convers√£o 35%.

---

## üìç POSITION

**Sabe aquele momento** que voc√™ gasta tempo absurdo com CRM:

- **2h/dia** coletando leads de LinkedIn, forms, email
- **1h/dia** enriquecendo dados (buscar empresa, cargo, LinkedIn)
- **2h/dia** qualificando (qual lead √© prioridade?)
- **1h/dia** follow-ups manuais

**= 30h/semana em tarefas mec√¢nicas**

Enquanto isso, tempo para **CONVERSAR com leads** (que realmente converte) = 0h.

**O problema n√£o √© falta de leads. √â afogamento em tarefas operacionais.**

Hoje voc√™ constr√≥i sistema que faz isso sozinho.

---

## üîÑ STEPS

### PASSO 1: Anatomia do Sistema (2min)

#### FLUXO COMPLETO

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. COLETA (Scraping + Webhooks)                 ‚îÇ
‚îÇ    LinkedIn ‚Üí Form ‚Üí Email ‚Üí Planilha           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. ENRIQUECIMENTO (APIs + IA)                   ‚îÇ
‚îÇ    Dados empresa, cargo, rede social            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. QUALIFICA√á√ÉO (Score autom√°tico)              ‚îÇ
‚îÇ    Lead A = 85pts (HOT) / Lead B = 32pts (COLD) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. A√á√ÉO AUTOM√ÅTICA                              ‚îÇ
‚îÇ    HOT ‚Üí Email personalizado + notifica vendedor‚îÇ
‚îÇ    COLD ‚Üí Nurturing sequence (5 emails/30d)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**4 m√≥dulos. Cada um usa skills das aulas anteriores.**

---

### PASSO 2: M√≥dulo 1 - Coleta Multi-Fonte (3min)

#### FONTES DE LEADS

**1. LinkedIn (Scraping - Aula 2.1)**

```python
# Script: linkedin_collector.py
def coletar_linkedin():
    # Busca: "founder AI startups S√£o Paulo"
    leads = scrape_linkedin_search(query, max_results=50)
    
    for lead in leads:
        salvar_lead({
            'nome': lead.name,
            'cargo': lead.title,
            'empresa': lead.company,
            'linkedin': lead.profile_url,
            'fonte': 'LinkedIn',
            'data_coleta': datetime.now()
        })
```

**2. Typeform (Webhook - Aula 2.3)**

```python
# API endpoint
@app.route('/webhook/typeform', methods=['POST'])
def typeform_webhook():
    data = request.json
    
    salvar_lead({
        'nome': data['nome'],
        'email': data['email'],
        'empresa': data['empresa'],
        'interesse': data['qual_produto'],
        'fonte': 'Typeform',
        'data_coleta': datetime.now()
    })
    
    return jsonify({'status': 'ok'})
```

**3. Email (Parser autom√°tico)**

```python
import imaplib
import email

def coletar_emails_leads():
    # Conecta Gmail
    mail = imaplib.IMAP4_SSL('imap.gmail.com')
    mail.login('seu@email.com', 'senha-app')
    
    # Busca emails com assunto "Contato - Site"
    mail.select('inbox')
    _, messages = mail.search(None, 'SUBJECT "Contato"')
    
    for msg_id in messages[0].split():
        _, msg_data = mail.fetch(msg_id, '(RFC822)')
        email_body = email.message_from_bytes(msg_data[0][1])
        
        # Extrair dados do email
        salvar_lead({
            'nome': extrair_nome(email_body),
            'email': email_body['From'],
            'mensagem': email_body.get_payload(),
            'fonte': 'Email',
            'data_coleta': datetime.now()
        })
```

**Agendar (Scheduler - Aula 2.5):**

```python
schedule.every().hour.do(coletar_linkedin)
schedule.every(10).minutes.do(coletar_emails_leads)
# Webhook Typeform = tempo real (n√£o precisa agendar)
```

**Resultado:** Coleta **autom√°tica 24/7** de m√∫ltiplas fontes ‚Üí 1 banco unificado.

---

### PASSO 3: M√≥dulo 2 - Enriquecimento (3min)

#### PROBLEMA

Lead chega com s√≥: nome + email.

**Voc√™ quer:** cargo, empresa, tamanho empresa, rede social, telefone.

#### SOLU√á√ÉO: APIs DE ENRIQUECIMENTO

**1. Clearbit API (dados empresa)**

```python
import requests

def enriquecer_clearbit(email):
    url = f"https://person.clearbit.com/v2/combined/find?email={email}"
    headers = {'Authorization': f'Bearer {CLEARBIT_KEY}'}
    
    response = requests.get(url, headers=headers)
    
    if response.status_code == 200:
        data = response.json()
        return {
            'cargo': data['person']['employment']['title'],
            'empresa': data['company']['name'],
            'tamanho_empresa': data['company']['metrics']['employees'],
            'setor': data['company']['category']['industry'],
            'linkedin': data['person']['linkedin']['handle']
        }
```

**2. Hunter.io (encontrar email)**

Se tem s√≥ nome + empresa, busca email profissional.

```python
def encontrar_email(nome, empresa):
    url = f"https://api.hunter.io/v2/email-finder?domain={empresa}.com&first_name={nome.split()[0]}&last_name={nome.split()[1]}"
    response = requests.get(url, params={'api_key': HUNTER_KEY})
    return response.json()['data']['email']
```

**3. Claude (extrair cargo de LinkedIn via scraping)**

Scrapeou perfil LinkedIn mas texto √© bagun√ßado?

**Prompt para Claude:**
```
Extrair dados estruturados desse texto de perfil LinkedIn:

Texto: "Jo√£o Silva | Founder & CEO na TechCorp | Construindo futuro da IA | S√£o Paulo, Brasil | 500+ conex√µes"

Retornar JSON: {nome, cargo, empresa, localizacao}
```

Claude retorna JSON limpo ‚Üí Salva no banco.

#### PIPELINE ENRIQUECIMENTO

```python
def enriquecer_lead(lead_id):
    lead = buscar_lead(lead_id)
    
    # 1. Clearbit (dados empresa)
    dados_clearbit = enriquecer_clearbit(lead.email)
    
    # 2. Se n√£o tem email, Hunter busca
    if not lead.email and lead.nome and lead.empresa:
        lead.email = encontrar_email(lead.nome, lead.empresa)
    
    # 3. Scraping LinkedIn complementar
    if lead.linkedin:
        perfil = scrape_linkedin_profile(lead.linkedin)
        dados_linkedin = extrair_com_claude(perfil)
    
    # Atualizar lead com dados enriquecidos
    atualizar_lead(lead_id, {
        **dados_clearbit,
        **dados_linkedin,
        'enriquecido': True,
        'data_enriquecimento': datetime.now()
    })
```

**ROI:** Manual = 5min por lead. Autom√°tico = 10 segundos.

---

### PASSO 4: M√≥dulo 3 - Lead Scoring (3min)

#### PROBLEMA

100 leads novos/dia. Quais s√£o prioridade?

**Vendedor n√£o pode falar com 100. S√≥ 10-15.**

#### SOLU√á√ÉO: SCORE AUTOM√ÅTICO

**Crit√©rios (exemplo B2B SaaS):**

```python
def calcular_score(lead):
    score = 0
    
    # Cargo (+ peso)
    cargos_alto_valor = ['CEO', 'Founder', 'CTO', 'VP', 'Director']
    if any(c in lead.cargo for c in cargos_alto_valor):
        score += 25
    
    # Tamanho empresa
    if lead.tamanho_empresa:
        if lead.tamanho_empresa > 50 and lead.tamanho_empresa < 500:
            score += 20  # Sweet spot: n√£o muito pequena, n√£o enterprise
    
    # Setor relevante
    setores_target = ['Technology', 'SaaS', 'Fintech']
    if lead.setor in setores_target:
        score += 15
    
    # Fonte (qualidade varia)
    if lead.fonte == 'Indica√ß√£o':
        score += 30  # Indica√ß√µes convertem melhor
    elif lead.fonte == 'Typeform':
        score += 20  # Preencheu form = interesse alto
    elif lead.fonte == 'LinkedIn':
        score += 10
    
    # Engajamento
    if lead.abriu_email:
        score += 10
    if lead.clicou_link:
        score += 15
    
    return min(score, 100)  # Max 100pts
```

**Classifica√ß√£o:**

```python
def classificar_lead(score):
    if score >= 70:
        return 'HOT'  # Contato imediato
    elif score >= 40:
        return 'WARM'  # Nurturing acelerado
    else:
        return 'COLD'  # Nurturing longo prazo
```

**Atualizar leads:**

```python
def atualizar_scores():
    leads = buscar_leads_nao_convertidos()
    
    for lead in leads:
        score = calcular_score(lead)
        classificacao = classificar_lead(score)
        
        atualizar_lead(lead.id, {
            'score': score,
            'classificacao': classificacao
        })
```

**Agendar:** Roda 1x/dia (score pode mudar com engajamento).

---

### PASSO 5: M√≥dulo 4 - A√ß√£o Autom√°tica (4min)

#### LEADS HOT (70-100pts)

**Notifica√ß√£o imediata para vendedor:**

```python
def notificar_lead_hot(lead):
    # Slack
    enviar_slack_webhook({
        'text': f'üî• LEAD HOT: {lead.nome} ({lead.empresa})',
        'blocks': [
            {'text': f'Cargo: {lead.cargo}'},
            {'text': f'Score: {lead.score}pts'},
            {'text': f'LinkedIn: {lead.linkedin}'},
            {'text': f'Email: {lead.email}'}
        ]
    })
    
    # Email vendedor
    enviar_email(
        para='vendedor@empresa.com',
        assunto=f'Lead HOT: {lead.nome}',
        corpo=template_lead_hot.render(lead=lead)
    )
```

**Email personalizado autom√°tico:**

```python
def email_primeiro_contato_hot(lead):
    # Template personalizado com dados enriquecidos
    template = f"""
    Ol√° {lead.nome.split()[0]},
    
    Vi que voc√™ √© {lead.cargo} na {lead.empresa} e trabalha com {lead.setor}.
    
    J√° ajudamos empresas similares ({exemplo_cliente_similar}) a {beneficio_especifico}.
    
    Teria interesse em conversa r√°pida de 15min essa semana?
    
    [Link Calendly]
    """
    
    enviar_email(lead.email, 'Otimiza√ß√£o para ' + lead.empresa, template)
```

#### LEADS WARM (40-69pts)

**Sequ√™ncia nurturing 5 emails / 15 dias:**

```python
def iniciar_nurturing_warm(lead):
    sequencia = [
        {'dia': 0, 'assunto': 'Case {empresa_similar}', 'template': 'nurturing_1'},
        {'dia': 3, 'assunto': 'Guia pr√°tico...', 'template': 'nurturing_2'},
        {'dia': 7, 'assunto': 'Ferramenta gr√°tis', 'template': 'nurturing_3'},
        {'dia': 10, 'assunto': 'D√∫vida comum...', 'template': 'nurturing_4'},
        {'dia': 15, 'assunto': 'Vale a pena conversarmos?', 'template': 'nurturing_5'}
    ]
    
    for email in sequencia:
        agendar_email(
            lead.email,
            email['assunto'],
            template=email['template'],
            delay_dias=email['dia']
        )
```

#### LEADS COLD (<40pts)

**Newsletter semanal + remarketing:**

```python
def adicionar_cold_list(lead):
    # Adiciona em lista de newsletter semanal
    mailchimp.add_subscriber(lead.email, list_id='cold_leads')
    
    # Tag para remarketing (Facebook/Google Ads)
    facebook_ads.add_custom_audience(lead.email)
```

---

## üéì S√çNTESE

**Sistema completo constru√≠do:**

```
COLETA (24/7)
  ‚îú‚îÄ LinkedIn scraping (hourly)
  ‚îú‚îÄ Typeform webhook (realtime)
  ‚îî‚îÄ Email parser (every 10min)
       ‚Üì
ENRIQUECIMENTO (autom√°tico)
  ‚îú‚îÄ Clearbit API (dados empresa)
  ‚îú‚îÄ Hunter.io (encontrar email)
  ‚îî‚îÄ Claude (parsing inteligente)
       ‚Üì
SCORING (daily)
  ‚îú‚îÄ Crit√©rios ponderados
  ‚îú‚îÄ Classifica√ß√£o HOT/WARM/COLD
  ‚îî‚îÄ Atualiza√ß√£o cont√≠nua
       ‚Üì
A√á√ÉO (trigger-based)
  ‚îú‚îÄ HOT ‚Üí Notifica√ß√£o imediata + email personalizado
  ‚îú‚îÄ WARM ‚Üí Nurturing 5 emails/15d
  ‚îî‚îÄ COLD ‚Üí Newsletter + remarketing
```

**ROI CALCULADO:**

**ANTES (manual):**
- Coleta: 2h/dia
- Enriquecimento: 1h/dia
- Qualifica√ß√£o: 2h/dia
- Follow-ups: 1h/dia
- **Total: 30h/semana**

**DEPOIS (automatizado):**
- Setup inicial: 10h (1x)
- Manuten√ß√£o: 2h/semana
- **Economia: 28h/semana = R$11k/m√™s** (se custo hora = R$100)

**IMPACTO CONVERS√ÉO:**
- Resposta HOT leads: 2h ‚Üí 15min (resposta mais r√°pida = +35% convers√£o)
- Nurturing consistente (antes irregular)
- Zero leads perdidos/esquecidos

**Skills usadas:**
- ‚úÖ Scraping (2.1)
- ‚úÖ APIs (2.3)
- ‚úÖ Batch processing (2.2)
- ‚úÖ Scheduler (2.5)
- ‚úÖ Webhooks (2.3)

---

## üöÄ PR√ìXIMOS PASSOS

**Implementa√ß√£o:**

Voc√™ n√£o precisa construir tudo de uma vez.

**Fase 1 (MVP - 2h):**
- Coleta 1 fonte (Typeform webhook)
- Score b√°sico (5 crit√©rios)
- Notifica√ß√£o Slack para HOT leads

**Fase 2 (Enriquecimento - 3h):**
- Integra Clearbit API
- Scraping LinkedIn complementar

**Fase 3 (Nurturing - 3h):**
- Sequ√™ncias email WARM/COLD
- Dashboard m√©tricas (aula 2.4)

**Fase 4 (Escala - 2h):**
- Adiciona mais fontes (LinkedIn, email)
- Refina scoring com dados hist√≥ricos

**Pr√≥xima aula (3.2):**
"Monitor de Concorrentes: Intelig√™ncia Competitiva Automatizada"

CRM automatizado gera leads. Mas precisa saber o que concorr√™ncia est√° fazendo.

Vamos criar sistema que monitora pre√ßos, lan√ßamentos, conte√∫do de concorrentes. 24/7.

**Lead generation + Intelig√™ncia competitiva = Vantagem estrat√©gica completa.** üí™

---

## üí≠ REFLEX√ÉO FINAL

**Porque no fundo...**

CRM tradicional √© ferramenta **passiva**. Voc√™ alimenta dados manualmente.

CRM automatizado √© **organismo vivo**. Coleta, aprende, age sozinho.

Voc√™ acabou de construir sistema que trabalha enquanto voc√™ dorme:
- 2h da manh√£: Coleta 50 leads LinkedIn
- 8h: Enriquece dados + calcula scores
- 9h: Notifica vendedor sobre 3 HOT leads
- Ao longo do dia: Envia emails nurturing sequenciados

**Vendedor acorda com pipeline pronto. S√≥ precisa VENDER.** üöÄ

Essa aula sozinha vale 100x o pre√ßo do curso.

---

**Instrutor:** Jos√© Carlos Amorim  
**Dura√ß√£o:** 15 minutos  
**Framework:** GPS + Did√°tica Lend√°ria + ESPIRAL EXPANSIVA

