# Aula 2.7: SequÃªncias Multi-Canal (Email + LinkedIn + WhatsApp)

**MÃ³dulo:** 2 - AI Sales Machine
**NÃ­vel:** 2 (FuncionÃ¡rio Aprendendo - construir do zero)
**DuraÃ§Ã£o:** 15 minutos
**Ferramentas:** n8n, Gmail, LinkedIn (Phantom), WhatsApp Business API

---

## ğŸ¯ Objetivos

1. **Criar sequÃªncias multi-canal** (email â†’ LinkedIn â†’ WhatsApp)
2. **Aumentar resposta rate** de 2% â†’ 8-12%
3. **Adaptar canais por persona** (B2B = email+LinkedIn, B2C = WhatsApp)
4. **Timing otimizado** entre toques (nÃ£o spammar)
5. **Stop sequence** quando lead responde em qualquer canal

---

## ğŸ“Š Por Que Multi-Canal?

### Single Channel vs Multi-Canal

| MÃ©trica | Email Only | Email + LinkedIn | Email + LinkedIn + WhatsApp |
|---------|------------|------------------|------------------------------|
| **Response Rate** | 2-3% | 6-8% | 10-15% |
| **Meeting Rate** | 0.5% | 1.5% | 3-4% |
| **Time to Response** | 5-7 dias | 3-4 dias | 1-2 dias |

**Por quÃª?**
- âœ… Pessoas checam LinkedIn mais que email
- âœ… WhatsApp tem 98% open rate vs 20% email
- âœ… Multi-canal = mais pontos de contato = top-of-mind

---

## ğŸ—ï¸ Estrutura da Aula

```
00:00 - 02:00 | Single vs Multi-canal comparison
02:00 - 05:00 | SequÃªncia B2B (7 toques)
05:00 - 08:00 | SequÃªncia B2C (3 toques)
08:00 - 11:00 | Stop logic (quando lead responde)
11:00 - 13:00 | Timing optimization
13:00 - 15:00 | n8n implementation
```

---

## ğŸ“§ SequÃªncia B2B (7 Toques - 14 dias)

### ICP: CEO/Founder de SaaS, AgÃªncia, Consultoria

**Objetivo:** Agendar reuniÃ£o de 15 min

```
Day 0:  Email #1  (Intro + Value Prop)
Day 2:  LinkedIn  (Connection Request)
Day 4:  Email #2  (Case Study)
Day 7:  LinkedIn  (Message after connection)
Day 9:  Email #3  (Breakup email)
Day 11: WhatsApp  (Last touch - se tiver nÃºmero)
Day 14: Email #4  (Final follow-up)
```

### Email #1 (Day 0): Intro + Value Prop

```
Subject: {{ company }} aumentar vendas em 800%?

Oi {{ first_name }},

Vi que vocÃª Ã© {{ title }} na {{ company }}.

Ajudamos empresas como a sua a:
â†’ Gerar 1.500 leads/mÃªs (vs 300 manual)
â†’ Agendar 45 reuniÃµes/mÃªs (vs 6)
â†’ Fechar 9 vendas/mÃªs (vs 1)

ROI: +R$ 40k receita + R$ 18k economia = R$ 58k/mÃªs

Quer ver como funciona?

Agende 15 min: [Calendly link]

Abs,
{{ sender_name }}
```

**GPT-4 Personalization:**
```
Personalize this email for:
Company: {{ company }}
Industry: {{ industry }}
Recent activity: {{ recent_post }}

Add 1 sentence referencing their recent LinkedIn post about {{ topic }}.
```

### LinkedIn Connection Request (Day 2)

**Via Phantom Buster:**
```
Oi {{ first_name }}, vi que vocÃª lidera a {{ company }}. Trabalho com automaÃ§Ã£o de vendas para SaaS/agencies. Vamos conectar?
```

**Importante:** NÃ£o vender no connection request. SÃ³ pedir para conectar.

### Email #2 (Day 4): Case Study

```
Subject: Como a {{ similar_company }} aumentou vendas em 800%

{{ first_name }},

Vi que nÃ£o respondeu meu email anterior.

Compartilho case real:

{{ similar_company }} ({{ industry }}, {{ company_size }} pessoas)
â†’ Antes: 1 venda/mÃªs
â†’ Depois: 9 vendas/mÃªs
â†’ Resultado: +R$ 40k/mÃªs

Sistema completo: [link para landing page]

Quer replicar?

Abs,
{{ sender }}
```

### LinkedIn Message (Day 7 - apÃ³s conectar)

```
Oi {{ first_name }}, obrigado por conectar!

Quick question: como vocÃªs fazem prospecÃ§Ã£o hoje?

Pergunto porque criamos sistema de AI que gera 1.500 leads/mÃªs automaticamente.

Te mando caso de {{ similar_company }} que aumentou vendas em 800%.

Interesse?
```

### Email #3 (Day 9): Breakup Email

```
Subject: Desistindo...

{{ first_name }},

Mandei 2 emails mas nÃ£o recebi resposta.

Assumo que:
[ ] NÃ£o Ã© prioridade agora
[ ] JÃ¡ tem soluÃ§Ã£o
[ ] Inbox lotado (entendo!)

Se for timing, me avisa e retomo em 3 meses.

SenÃ£o, esse Ã© meu Ãºltimo email.

Abs,
{{ sender }}

P.S: Se quiser ver o sistema, link aqui: [demo]
```

**Por que funciona:** Reverse psychology + dÃ¡ "saÃ­da" para lead.

### WhatsApp (Day 11 - se tiver nÃºmero)

```
Oi {{ first_name }}, {{ sender }} aqui.

Te mandei alguns emails sobre automaÃ§Ã£o de vendas.

NÃ£o sei se viu, entÃ£o testo WhatsApp.

Resumo rÃ¡pido:
â†’ 1.500 leads/mÃªs automaticamente
â†’ 45 reuniÃµes/mÃªs
â†’ 9 vendas/mÃªs

ROI: R$ 58k/mÃªs

Quer ver como funciona?
```

**Importante:** SÃ³ mandar WhatsApp se tiver nÃºmero validado (Apollo/Enrichment).

### Email #4 (Day 14): Final Follow-up

```
Subject: Ãšltima tentativa - {{ company }}

{{ first_name }},

Ãšltimo email (prometo!).

Se nÃ£o for o momento, tudo bem.

Mas se tiver 5 min, assista este vÃ­deo:
[Loom explicando o sistema - 2 min]

Depois me fala se faz sentido.

Abs,
{{ sender }}
```

---

## ğŸ“± SequÃªncia B2C Local (3 Toques - 5 dias)

### ICP: Dono de restaurante, clÃ­nica, loja local

**Objetivo:** Fechar venda < R$ 1k

```
Day 0: WhatsApp #1 (Intro + Oferta Local)
Day 2: WhatsApp #2 (Social Proof Local)
Day 5: WhatsApp #3 (Urgency + Last Chance)
```

### WhatsApp #1 (Day 0):

```
OlÃ¡ {{ nome_dono }}, {{ sender }} aqui!

Vi que o {{ nome_negocio }} tem {{ rating }}â­ no Google Maps!

Trabalho com {{ niche }} aqui em {{ bairro }}.

JÃ¡ ajudamos:
â†’ {{ cliente_local_1 }} ({{ bairro }})
â†’ {{ cliente_local_2 }} ({{ bairro_vizinho }})

Posso te mostrar como gerar mais clientes?
```

### WhatsApp #2 (Day 2):

```
{{ nome_dono }}, seguinte...

Fiz um vÃ­deo mostrando como {{ cliente_local_1 }} aumentou clientes em 40%:

[Link Loom]

SÃ£o 2 min. Depois me fala o que achou!
```

### WhatsApp #3 (Day 5):

```
ğŸ OFERTA EXCLUSIVA ({{ bairro }}):

{{ produto }}
R$ {{ preco_normal }} â†’ R$ {{ preco_desconto }}

+ 7 dias grÃ¡tis
+ Setup grÃ¡tis

SÃ³ atÃ© hoje!

Quer testar?
```

---

## ğŸ›‘ Stop Logic (Quando Lead Responde)

### Problema: Lead responde no Email, mas continua recebendo LinkedIn + WhatsApp

**SoluÃ§Ã£o:** Centralized Stop Flag

### Database Flag: `sequence_stopped`

```sql
ALTER TABLE leads
ADD COLUMN sequence_stopped BOOLEAN DEFAULT FALSE,
ADD COLUMN sequence_stop_reason VARCHAR(100),
ADD COLUMN sequence_stop_channel VARCHAR(50);
```

### n8n: Check Before Each Touch

```javascript
// Before sending touch
const lead = await db.query('SELECT * FROM leads WHERE email = ?', [email]);

if (lead.sequence_stopped) {
  console.log(`Sequence stopped for ${email}. Reason: ${lead.sequence_stop_reason}`);
  return; // Don't send
}

// Send touch
await sendEmail(lead);

// Check if lead replied
const replied = await checkReply(lead.email);

if (replied) {
  await db.query(
    'UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = ?, sequence_stop_channel = ? WHERE email = ?',
    ['lead_replied', 'email', lead.email]
  );
}
```

### Stop Triggers

**1. Lead Replied (Any Channel)**
```sql
UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = 'replied'
WHERE email = '{{ email }}';
```

**2. Lead Unsubscribed**
```sql
UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = 'unsubscribed'
WHERE email = '{{ email }}';
```

**3. Meeting Booked**
```sql
UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = 'meeting_booked'
WHERE email = '{{ email }}';
```

**4. Hard Bounce**
```sql
UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = 'invalid_email'
WHERE email = '{{ email }}';
```

**5. Marked as Spam**
```sql
UPDATE leads SET sequence_stopped = TRUE, sequence_stop_reason = 'spam_complaint'
WHERE email = '{{ email }}';
```

---

## â±ï¸ Timing Optimization

### Best Times to Send

#### Email
```javascript
const emailTiming = {
  bestDays: ['Tuesday', 'Wednesday', 'Thursday'],
  avoidDays: ['Friday PM', 'Monday AM', 'Weekend'],
  bestHours: [8, 9, 10, 14, 15], // 8-10 AM, 2-3 PM
  timezone: 'America/Sao_Paulo'
};
```

#### LinkedIn
```javascript
const linkedinTiming = {
  bestDays: ['Tuesday', 'Wednesday'],
  bestHours: [7, 8, 17, 18], // Before work, after work
};
```

#### WhatsApp
```javascript
const whatsappTiming = {
  bestDays: ['Any'], // WhatsApp works all days
  bestHours: [9, 10, 11, 14, 15, 16], // Business hours
  avoid: [0-7, 20-23] // Don't message at night!
};
```

### n8n: Smart Timing

```json
{
  "name": "Calculate Best Send Time",
  "type": "n8n-nodes-base.function",
  "parameters": {
    "functionCode": "const now = new Date();\nconst dayOfWeek = now.getDay(); // 0=Sunday, 6=Saturday\nconst hour = now.getHours();\n\n// If Friday PM, wait until Tuesday 9 AM\nif (dayOfWeek === 5 && hour >= 15) {\n  const tuesday = new Date();\n  tuesday.setDate(tuesday.getDate() + (9 - dayOfWeek + 7) % 7);\n  tuesday.setHours(9, 0, 0, 0);\n  return { json: { sendAt: tuesday.toISOString() } };\n}\n\n// If weekend, wait until Monday 9 AM\nif ([0, 6].includes(dayOfWeek)) {\n  const monday = new Date();\n  monday.setDate(monday.getDate() + (1 - dayOfWeek + 7) % 7);\n  monday.setHours(9, 0, 0, 0);\n  return { json: { sendAt: monday.toISOString() } };\n}\n\n// If before 8 AM, send at 9 AM today\nif (hour < 8) {\n  now.setHours(9, 0, 0, 0);\n  return { json: { sendAt: now.toISOString() } };\n}\n\n// If after 6 PM, send at 9 AM tomorrow\nif (hour >= 18) {\n  now.setDate(now.getDate() + 1);\n  now.setHours(9, 0, 0, 0);\n  return { json: { sendAt: now.toISOString() } };\n}\n\n// Otherwise send now\nreturn { json: { sendAt: now.toISOString() } };"
  }
}
```

---

## ğŸ”§ n8n Implementation

### Workflow: 7-Touch B2B Sequence

```json
{
  "nodes": [
    {
      "name": "Trigger: New Lead",
      "type": "n8n-nodes-base.postgres",
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM leads WHERE stage = 'prospected' AND sequence_started = FALSE AND lead_score >= 70 LIMIT 50"
      }
    },
    {
      "name": "Mark Sequence Started",
      "type": "n8n-nodes-base.postgres",
      "parameters": {
        "operation": "update",
        "table": "leads",
        "columns": "sequence_started, sequence_started_at",
        "values": "TRUE, NOW()"
      }
    },
    {
      "name": "Touch 1: Email",
      "type": "n8n-nodes-base.gmail"
    },
    {
      "name": "Wait 2 Days",
      "type": "n8n-nodes-base.wait",
      "parameters": { "amount": 2, "unit": "days" }
    },
    {
      "name": "Check If Stopped",
      "type": "n8n-nodes-base.postgres",
      "parameters": {
        "query": "SELECT sequence_stopped FROM leads WHERE email = '{{ $json.email }}'"
      }
    },
    {
      "name": "If Not Stopped",
      "type": "n8n-nodes-base.if",
      "parameters": {
        "conditions": {
          "boolean": [{ "value1": "={{ $json.sequence_stopped }}", "operation": "equal", "value2": false }]
        }
      }
    },
    {
      "name": "Touch 2: LinkedIn Connection",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.phantombuster.com/api/v2/agents/launch",
        "method": "POST",
        "body": {
          "agentId": "{{ $env.PHANTOM_LINKEDIN_CONNECT }}",
          "argument": {
            "profileUrl": "={{ $json.linkedin_url }}",
            "message": "Oi {{ $json.first_name }}, trabalho com automaÃ§Ã£o de vendas..."
          }
        }
      }
    }
  ]
}
```

---

## âœ… EntregÃ¡vel

```
sequences/
â”œâ”€â”€ b2b-7-touch-sequence.json
â”œâ”€â”€ b2c-3-touch-sequence.json
â””â”€â”€ stop-logic-triggers.sql

templates/
â”œâ”€â”€ email-templates/ (4 emails B2B)
â”œâ”€â”€ linkedin-templates/ (2 messages)
â””â”€â”€ whatsapp-templates/ (3 messages B2C)
```

---

## ğŸ¯ Checklist

- [ ] **B2B sequence** configurada (7 toques / 14 dias)
- [ ] **B2C sequence** configurada (3 toques / 5 dias)
- [ ] **Stop logic** implementado (para quando lead responde)
- [ ] **Timing optimization** (nÃ£o enviar fim de semana/noite)
- [ ] **Multi-canal tracking** (qual canal teve mais resposta?)
- [ ] **A/B test** inicial (testar 2 subject lines no email #1)

---

## ğŸš€ PrÃ³ximos Passos

1. **Aula 2.8** â†’ Testes A/B AutomÃ¡ticos (otimizar sequÃªncias)
2. **Aula 2.9** â†’ Dashboard de MÃ©tricas (visualizar performance por canal)

---

**ğŸ“ Conceito-chave:** Multi-canal aumenta response rate de 2% para 10-15%. Mas sempre pare a sequÃªncia quando lead responder em qualquer canal!
