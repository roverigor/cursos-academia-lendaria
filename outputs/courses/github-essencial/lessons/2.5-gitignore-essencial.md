# AULA 2.5: .gitignore Essencial

**Módulo:** 2 - Primeiro Repo Real
**Duração:** 5 minutos
**Tipo:** Prático

---

## GPS DA AULA

### DESTINO (Onde você vai chegar)
Ao final desta aula, você vai:
- Configurar .gitignore corretamente
- Nunca mais commitar credenciais acidentalmente
- Usar padrão .env.example para templates
- Manter repositório limpo e profissional

### ORIGEM (De onde você vem)
Você provavelmente:
- Sabe fazer commits e push (aulas anteriores)
- Já commitou node_modules sem querer
- Não sabe que credenciais ficam no histórico PARA SEMPRE

### ROTA (Como vamos chegar)
1. Entender o que nunca versionar
2. Criar .gitignore
3. Usar padrão .env.example
4. Testar proteção de credenciais

---

## ROTEIRO COMPLETO

### [ABERTURA] - 30 segundos

**[PROFESSOR DIZ:]**

> Em 2019, a Uber vazou 57 milhões de dados de usuários. A causa? Credenciais AWS commitadas no GitHub.
>
> Outro caso: desenvolvedor commita chave AWS, em 24 horas, $6.000 de prejuízo com crypto mining.
>
> Isso não pode acontecer com você.
>
> Nessa aula você vai aprender a proteger seu repo. Bora.

---

### [O QUE NUNCA VERSIONAR] - 1 minuto

[SLIDE 1 - Lista do que ignorar]

**[PROFESSOR DIZ:]**

> Existem arquivos que NUNCA devem ir pro Git.
>
> **Credenciais e segredos:**
>
> Arquivos .env com senhas, chaves de API, tokens. Se você commitar isso, fica no histórico para sempre. Mesmo se deletar depois.
>
> **Dependências:**
>
> node_modules no JavaScript, venv no Python. São baixáveis com npm install ou pip install. Não precisam estar no repo. E são pesados - node_modules pode ter 200MB.
>
> [SLIDE 2 - Mais arquivos]
>
> **Arquivos de build:**
>
> Pasta dist, build, arquivos minificados. São gerados automaticamente.
>
> **Configurações de IDE:**
>
> Pasta .vscode, .idea. São preferências pessoais, cada dev tem a sua.
>
> **Arquivos do sistema:**
>
> .DS_Store no Mac, Thumbs.db no Windows. Não tem nada a ver com seu código.

---

### [CRIANDO .GITIGNORE] - 1 minuto 30 segundos

[SLIDE 3 - Arquivo .gitignore]

**[PROFESSOR DIZ:]**

> O arquivo .gitignore lista tudo que o Git deve ignorar.
>
> Vou mostrar um .gitignore básico pra JavaScript:
>
> ```gitignore
> # Variáveis de ambiente
> .env
> .env.local
>
> # Dependências
> node_modules/
>
> # Build
> dist/
> build/
>
> # IDEs
> .vscode/
> .idea/
>
> # Sistema
> .DS_Store
> Thumbs.db
> ```
>
> [Pausa]
>
> Percebe os comentários com #. Eles explicam cada seção.
>
> A barra no final significa diretório: `node_modules/`.
>
> O asterisco é coringa: `*.log` ignora todos arquivos .log.
>
> [SLIDE 4 - Templates prontos]
>
> Você não precisa escrever do zero. O GitHub tem templates prontos pra cada linguagem.
>
> Acessa github.com/github/gitignore. Tem pra Node, Python, Java, tudo.
>
> Ou usa o site gitignore.io. Escolhe linguagem, IDE, sistema operacional, e ele gera pra você.

---

### [PADRÃO .ENV.EXAMPLE] - 1 minuto

[SLIDE 5 - .env vs .env.example]

**[PROFESSOR DIZ:]**

> Problema: você precisa de um arquivo .env com variáveis de ambiente. Mas não pode versionar porque tem senhas.
>
> Solução: criar um .env.example sem as senhas reais.
>
> Seu .env (NÃO versionar):
>
> ```env
> DATABASE_URL=postgres://user:SENHA_SECRETA@localhost/db
> API_KEY=chave_secreta_real_123
> ```
>
> Seu .env.example (versionar):
>
> ```env
> DATABASE_URL=postgres://user:password@localhost/dbname
> API_KEY=your_api_key_here
> ```
>
> [Pausa]
>
> No .gitignore você coloca:
>
> ```gitignore
> .env
> !.env.example
> ```
>
> A exclamação significa: NÃO ignore esse arquivo.
>
> Quando alguém clonar seu repo, copia o .env.example pra .env e preenche com as credenciais reais.

---

### [EXERCÍCIO AO VIVO] - 1 minuto

[SLIDE 6 - Terminal ao vivo]

**[PROFESSOR DIZ:]**

> Vamos praticar. Abre seu repo.
>
> Primeiro, cria um arquivo .env fake pra testar:
>
> ```bash
> cd github-practice-repo
> echo "API_KEY=secret123" > .env
> ```
>
> Vê o status:
>
> ```bash
> git status
> ```
>
> O .env aparece como untracked. Perigoso.
>
> Agora cria o .gitignore:
>
> ```bash
> echo ".env" > .gitignore
> echo "node_modules/" >> .gitignore
> ```
>
> Status de novo:
>
> ```bash
> git status
> ```
>
> O .env sumiu! Só aparece o .gitignore.
>
> Agora cria o .env.example:
>
> ```bash
> echo "API_KEY=your_api_key_here" > .env.example
> ```
>
> Commita:
>
> ```bash
> git add .gitignore .env.example
> git commit -m "chore: add .gitignore and env template"
> git push
> ```
>
> Pronto. Suas credenciais estão protegidas.

---

### [FECHAMENTO] - 30 segundos

[SLIDE 7 - Resumo]

**[PROFESSOR DIZ:]**

> Recapitulando:
>
> - .gitignore lista arquivos que o Git ignora
> - Nunca versione .env, node_modules, builds
> - Use .env.example como template
> - Credenciais no histórico ficam lá PARA SEMPRE
>
> Isso é crítico pra segurança. Não pule essa configuração.
>
> E com isso você completou o Módulo 2! Você já sabe criar repos, commitar, sincronizar, e proteger credenciais.
>
> No Módulo 3, a gente vai aprender colaboração: branches, Pull Requests, e resolver conflitos.
>
> Te vejo lá.

---

## CHECKLIST DE ENTENDIMENTO

- [ ] Sei o que nunca versionar (senhas, node_modules)
- [ ] Tenho .gitignore configurado
- [ ] Uso padrão .env.example
- [ ] .env não aparece no git status
- [ ] Meu .gitignore está commitado

---

## ARTEFATO DA AULA

```
AULA 2.5 - GITIGNORE
====================

GITIGNORE CRIADO:
[ ] Arquivo: .gitignore
[ ] Inclui: .env
[ ] Inclui: node_modules/

ENV.EXAMPLE CRIADO:
[ ] Arquivo: .env.example
[ ] Variáveis documentadas

TESTE DE SEGURANÇA:
[ ] Criei .env fake
[ ] git status NÃO mostra .env
[ ] .env.example aparece normalmente

COMMIT:
[ ] git add .gitignore .env.example
[ ] git commit -m "chore: add .gitignore and env template"
```

---

## PROMPT DE IA PARA .GITIGNORE

```
Gere um .gitignore completo para:

LINGUAGEM/FRAMEWORK: [Node.js / Python / Java / etc]
IDE QUE USO: [VS Code / IntelliJ / etc]
SISTEMA OPERACIONAL: [Windows / Mac / Linux]

INCLUA:
1. Dependências da linguagem
2. Arquivos de build
3. Variáveis de ambiente (.env)
4. Arquivos do IDE
5. Arquivos do sistema operacional

Adicione comentários explicando cada seção.
```

---

## TROUBLESHOOTING

### Adicionei ao .gitignore mas Git ainda rastreia

> Arquivo já estava sendo rastreado antes.
> ```bash
> git rm --cached arquivo
> git add .gitignore
> git commit -m "chore: stop tracking arquivo"
> ```

### .gitignore não funciona

> Checklist:
> - Arquivo chama `.gitignore` (com ponto)?
> - Está no root do projeto?
> - Arquivo já estava rastreado?

### Commitei credencial acidentalmente

> URGENTE:
> 1. Revogue a credencial AGORA (mude senha, gere nova API key)
> 2. Adicione ao .gitignore
> 3. Credencial ainda está no histórico - considere BFG Repo Cleaner

---

## ANEXO: SLIDES NECESSÁRIOS

| # | Título | Conteúdo |
|---|--------|----------|
| 1 | O que ignorar | Lista de categorias |
| 2 | Mais arquivos | Build, IDE, sistema |
| 3 | .gitignore | Exemplo comentado |
| 4 | Templates | github.com/github/gitignore |
| 5 | .env vs .env.example | Comparativo |
| 6 | Terminal | Exercício ao vivo |
| 7 | Resumo | Checklist de segurança |

---

## COMANDOS DA AULA (COPIAR E COLAR)

```bash
# Criar .gitignore básico
echo ".env" > .gitignore
echo "node_modules/" >> .gitignore

# Criar .env.example
echo "API_KEY=your_api_key_here" > .env.example

# Parar de rastrear arquivo já commitado
git rm --cached arquivo.env

# Ver arquivos ignorados
git status --ignored

# Verificar se arquivo é ignorado
git check-ignore -v arquivo.txt
```

---

## .GITIGNORE POR LINGUAGEM

### Node.js / JavaScript

```gitignore
node_modules/
.env
dist/
build/
.vscode/
.DS_Store
```

### Python

```gitignore
venv/
__pycache__/
*.pyc
.env
dist/
.vscode/
.DS_Store
```

---

## FIM DO MÓDULO 2

Parabéns! Você completou o Módulo 2 - Primeiro Repo Real.

Você agora sabe:
- Criar repositórios profissionais
- Dominar o ciclo add/commit
- Sincronizar com push/pull
- Escrever commits que comunicam
- Proteger credenciais com .gitignore

**Próximo:** Módulo 3 - Colaboração Profissional

---

**Duração real:** 5 minutos
**Próximo:** Aula 3.1 - Branches sem Medo
