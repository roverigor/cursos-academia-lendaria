# AULA 1.3: SSH com Ed25519 - Autenticação Profissional

**Módulo:** 1 - Setup Moderno
**Duração:** 10 minutos
**Tipo:** Prático

---

## GPS DA AULA

### DESTINO (Onde você vai chegar)
Ao final desta aula, você vai:
- Ter chave SSH Ed25519 gerada e funcionando
- Estar conectado ao GitHub sem precisar de senha
- Entender por que isso é o padrão profissional

### ORIGEM (De onde você vem)
Você provavelmente:
- Tem Git instalado e configurado (aula anterior)
- Nunca configurou SSH ou acha complicado
- Talvez já tenha desistido de configurar isso antes

### ROTA (Como vamos chegar)
1. Entender o que é SSH e por que usar
2. Gerar chave Ed25519
3. Adicionar no GitHub
4. Testar conexão

---

## ROTEIRO COMPLETO

### [ABERTURA] - 30 segundos

**[PROFESSOR DIZ:]**

> Sabe aquele momento irritante que você vai dar um `git push` e ele pede senha? Ou pior, token? E o token expira, e você tem que gerar outro?
>
> Isso acaba hoje.
>
> Vamos configurar SSH. Você configura uma vez, e nunca mais precisa de senha. Pelo resto da vida.
>
> Bora.

---

### [O QUE É SSH] - 1 minuto

[SLIDE 1 - Chave e Cadeado]

**[PROFESSOR DIZ:]**

> SSH significa Secure Shell. É um protocolo de comunicação criptografado.
>
> Mas você não precisa decorar isso. Você precisa entender a analogia.
>
> [SLIDE 2 - Diagrama chave pública/privada]
>
> SSH funciona com duas chaves: pública e privada.
>
> A chave privada é tipo a chave da sua casa. Fica com você. NUNCA compartilha.
>
> A chave pública é tipo o cadeado. Você dá pro GitHub. Ele instala esse cadeado lá.
>
> Quando você se conecta, o GitHub testa: "esse cara tem a chave certa pra abrir esse cadeado?"
>
> Se você tem a chave privada certa, ele abre. Senão, não abre.
>
> Simples assim.

---

### [POR QUE ED25519] - 30 segundos

[SLIDE 3 - Comparativo RSA vs Ed25519]

**[PROFESSOR DIZ:]**

> Existem vários algoritmos pra gerar chaves SSH. O mais antigo é RSA. Mas o padrão moderno é Ed25519.
>
> Por quê? Ed25519 é mais rápido, mais seguro, e a chave é menor.
>
> O GitHub recomenda Ed25519 desde 2022. Então é isso que vamos usar.
>
> E aliás: desde 2021, o GitHub não aceita mais autenticação por senha. Ou é SSH, ou é token. E SSH é muito mais prático que token.

---

### [PASSO 1: VERIFICAR SE JÁ TEM] - 30 segundos

[SLIDE 4 - Terminal]

**[PROFESSOR DIZ:]**

> Primeiro, vamos ver se você já tem uma chave.
>
> No terminal, digita:
>
> ```bash
> ls ~/.ssh/id_ed25519.pub
> ```
>
> Se aparecer o nome do arquivo, você já tem chave. Pula pro passo de adicionar no GitHub.
>
> Se der erro "No such file", você precisa gerar. Bora pro próximo passo.

---

### [PASSO 2: GERAR CHAVE] - 1 minuto 30 segundos

[SLIDE 5 - Comando ssh-keygen]

**[PROFESSOR DIZ:]**

> Pra gerar a chave, digita esse comando. Substitui pelo SEU email do GitHub:
>
> ```bash
> ssh-keygen -t ed25519 -C "seu@email.com"
> ```
>
> Ele vai perguntar onde salvar. Aperta ENTER pra aceitar o local padrão.
>
> Depois pergunta se quer uma passphrase. Isso é uma senha pra chave.
>
> [Pausa]
>
> Aqui você decide:
>
> Se o computador é só seu, pode deixar em branco. Mais prático.
>
> Se é computador compartilhado, coloca uma senha. Mais seguro.
>
> Depois disso, sua chave foi criada. Você vai ver uma mensagem tipo:
>
> "Your public key has been saved in ~/.ssh/id_ed25519.pub"
>
> Perfeito.

---

### [PASSO 3: SSH AGENT] - 45 segundos

[SLIDE 6 - SSH Agent]

**[PROFESSOR DIZ:]**

> Agora a gente precisa carregar a chave no SSH agent. Isso é tipo "ligar o motor" da autenticação.
>
> Mac e Linux:
>
> ```bash
> eval "$(ssh-agent -s)"
> ssh-add ~/.ssh/id_ed25519
> ```
>
> Windows no Git Bash:
>
> ```bash
> eval `ssh-agent -s`
> ssh-add ~/.ssh/id_ed25519
> ```
>
> Se ele pedir sua passphrase e você cadastrou uma, digita ela aí.
>
> Pronto, sua chave tá carregada.

---

### [PASSO 4: COPIAR CHAVE PÚBLICA] - 45 segundos

[SLIDE 7 - Copiando a chave]

**[PROFESSOR DIZ:]**

> Agora você precisa copiar a chave PÚBLICA. Não a privada, a pública.
>
> Mac:
>
> ```bash
> pbcopy < ~/.ssh/id_ed25519.pub
> ```
>
> Já copiou pro clipboard.
>
> Windows Git Bash:
>
> ```bash
> cat ~/.ssh/id_ed25519.pub | clip
> ```
>
> Linux:
>
> ```bash
> cat ~/.ssh/id_ed25519.pub
> ```
>
> Seleciona todo o texto que apareceu e copia.
>
> A chave começa com "ssh-ed25519" e termina com seu email. Copia tudo.

---

### [PASSO 5: ADICIONAR NO GITHUB] - 1 minuto

[SLIDE 8 - GitHub Settings]

**[PROFESSOR DIZ:]**

> Agora vai no GitHub.
>
> Acessa github.com/settings/keys. Ou clica na sua foto, Settings, depois SSH and GPG keys.
>
> [SLIDE 9 - New SSH Key]
>
> Clica em "New SSH key".
>
> No Title, coloca algo descritivo. Tipo "Notebook Pessoal" ou "PC Trabalho". Isso ajuda se você tiver várias máquinas.
>
> Em Key type, deixa "Authentication Key".
>
> Em Key, cola aquela chave que você copiou.
>
> Clica "Add SSH key".
>
> O GitHub pode pedir sua senha. Digita e confirma.
>
> Pronto. Sua chave tá no GitHub.

---

### [PASSO 6: TESTAR] - 1 minuto

[SLIDE 10 - Teste de conexão]

**[PROFESSOR DIZ:]**

> Agora o momento da verdade. Vamos testar.
>
> No terminal, digita:
>
> ```bash
> ssh -T git@github.com
> ```
>
> Se for sua primeira vez conectando, ele vai perguntar se você confia no host. Digita "yes" e enter.
>
> [Pausa]
>
> Se deu certo, você vai ver isso:
>
> "Hi SeuUsername! You've successfully authenticated, but GitHub does not provide shell access."
>
> [SLIDE 11 - Mensagem de sucesso]
>
> Se você viu essa mensagem com seu username, PARABÉNS. SSH tá funcionando.
>
> A partir de agora, você nunca mais vai precisar de senha ou token pra interagir com o GitHub. Clonar, push, pull - tudo vai funcionar automaticamente.

---

### [FECHAMENTO] - 30 segundos

[SLIDE 12 - Módulo 1 Completo]

**[PROFESSOR DIZ:]**

> E com isso você completou o Módulo 1 - Setup Moderno.
>
> Você tem Git instalado, configurado com sua identidade, e autenticação SSH funcionando.
>
> Você tá pronto pra começar a trabalhar com repositórios de verdade.
>
> No Módulo 2, a gente vai criar seu primeiro repositório profissional, aprender o ciclo de commits, e sincronizar com o GitHub.
>
> Te vejo lá.

---

## CHECKLIST DE ENTENDIMENTO

- [ ] Chave Ed25519 gerada (~/.ssh/id_ed25519)
- [ ] Chave adicionada ao SSH agent
- [ ] Chave pública no GitHub (Settings → SSH keys)
- [ ] Teste SSH funcionou ("Hi username!")
- [ ] Entendo diferença entre chave pública e privada

---

## ARTEFATO DA AULA

```
AULA 1.3 - SSH CONFIGURADO
==========================

CHAVE GERADA:
[ ] Arquivo privado: ~/.ssh/id_ed25519
[ ] Arquivo público: ~/.ssh/id_ed25519.pub
[ ] Algoritmo: Ed25519

CHAVE NO GITHUB:
[ ] Adicionada em github.com/settings/keys
[ ] Title usado: _______________

TESTE DE CONEXÃO:
[ ] Comando: ssh -T git@github.com
[ ] Resultado: "Hi [username]! You've successfully authenticated..."
```

---

## TROUBLESHOOTING

### Erro: "Permission denied (publickey)"

**[PROFESSOR DIZ:]**

> Se aparecer esse erro, geralmente é uma de duas coisas:
>
> Ou a chave não foi adicionada no GitHub, ou o SSH agent não tá rodando.
>
> Roda esses comandos:
>
> ```bash
> eval "$(ssh-agent -s)"
> ssh-add ~/.ssh/id_ed25519
> ```
>
> E verifica no GitHub se a chave tá lá mesmo.

### Erro: "Could not open a connection to your authentication agent"

> Significa que o SSH agent não tá rodando. Roda:
>
> ```bash
> eval "$(ssh-agent -s)"
> ```

---

## PROMPT DE IA PARA TROUBLESHOOTING

```
Estou tendo problema com SSH no GitHub.

ERRO QUE APARECE:
[colar erro completo]

O QUE JÁ FIZ:
- Gerei chave: [ ] Sim [ ] Não
- Adicionei no GitHub: [ ] Sim [ ] Não
- Rodei ssh-agent: [ ] Sim [ ] Não

SISTEMA: [Windows/Mac/Linux]

ME AJUDE A RESOLVER.
```

---

## ANEXO: SLIDES NECESSÁRIOS

| # | Título | Conteúdo |
|---|--------|----------|
| 1 | Chave e Cadeado | Analogia visual |
| 2 | Pública vs Privada | Diagrama explicativo |
| 3 | RSA vs Ed25519 | Tabela comparativa |
| 4 | Terminal | Verificando chave existente |
| 5 | ssh-keygen | Comando de geração |
| 6 | SSH Agent | Comandos por SO |
| 7 | Copiando chave | pbcopy, clip, cat |
| 8 | GitHub Settings | Screenshot da página |
| 9 | New SSH Key | Formulário preenchido |
| 10 | Teste | Comando ssh -T |
| 11 | Sucesso | Mensagem "Hi username!" |
| 12 | Módulo 1 Completo | Checklist de conquistas |

---

## COMANDOS DA AULA (COPIAR E COLAR)

```bash
# Verificar se já tem chave
ls ~/.ssh/id_ed25519.pub

# Gerar chave Ed25519
ssh-keygen -t ed25519 -C "seu@email.com"

# Iniciar SSH agent (Mac/Linux)
eval "$(ssh-agent -s)"

# Adicionar chave ao agent
ssh-add ~/.ssh/id_ed25519

# Copiar chave pública (Mac)
pbcopy < ~/.ssh/id_ed25519.pub

# Copiar chave pública (Windows Git Bash)
cat ~/.ssh/id_ed25519.pub | clip

# Copiar chave pública (Linux)
cat ~/.ssh/id_ed25519.pub

# Testar conexão
ssh -T git@github.com
```

---

**Duração real:** 10 minutos
**Próximo:** Módulo 2 - Aula 2.1 - Criando Repositório
