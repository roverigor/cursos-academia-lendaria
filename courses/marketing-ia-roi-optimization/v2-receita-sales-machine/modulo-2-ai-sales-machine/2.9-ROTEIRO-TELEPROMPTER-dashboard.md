# ROTEIRO TELEPROMPTER - Aula 2.9: Dashboard de Métricas

**Duração:** 15 min

---

## [00:00-00:30] PROBLEMA

Você não sabe se sistema tá funcionando sem métricas.

Dashboard real-time = visibilidade total.

Hoje: Metabase dashboard com todas métricas críticas.

---

## [00:30-03:00] MÉTRICAS TIER 1

**[MOSTRA DASHBOARD]**

North Star Metrics:
1. Receita Mensal: R$ 45.000
2. Vendas: 9/mês
3. ROI Total: R$ 58.000/mês

Grandes números. Top of dashboard.

---

## [03:00-07:00] FUNIL COMPLETO

**[SCREENCAST: Metabase query]**

```sql
SELECT
  COUNT(*) FILTER (WHERE stage = 'prospected') as leads,
  COUNT(*) FILTER (WHERE stage = 'sdr_outreach') as outreach,
  COUNT(*) FILTER (WHERE replied = true) as replies,
  COUNT(*) FILTER (WHERE meeting_booked = true) as meetings,
  COUNT(*) FILTER (WHERE stage = 'closed_won') as sales
FROM leads
WHERE created_at >= DATE_TRUNC('month', CURRENT_DATE)
```

**[MOSTRA visualização]**

```
1,500 leads → 450 outreach → 90 replies → 45 meetings → 9 sales
```

Funil visual. Onde tá o gargalo?

---

## [07:00-10:00] PERFORMANCE POR FONTE

**[MOSTRA query]**

```sql
SELECT
  source,
  COUNT(*) as leads,
  COUNT(*) FILTER (WHERE stage = 'closed_won') as sales,
  ROUND(COUNT(*) FILTER (WHERE stage = 'closed_won')::NUMERIC / COUNT(*) * 100, 2) as conversion_rate
FROM leads
GROUP BY source
ORDER BY conversion_rate DESC
```

**[RESULTADO]**

| Fonte | Leads | Sales | Conversion |
|-------|-------|-------|------------|
| Apollo | 200 | 5 | 2.5% |
| LinkedIn | 500 | 3 | 0.6% |
| Google Maps | 800 | 1 | 0.12% |

Insight: Apollo converte melhor. Invista mais lá!

---

## [10:00-12:30] SETUP METABASE

**[SCREENCAST: Docker]**

```bash
docker run -d -p 3000:3000 \
  -e MB_DB_TYPE=postgres \
  -e MB_DB_HOST=your-host \
  metabase/metabase
```

**[MOSTRA interface]**

1. Connect PostgreSQL
2. Create questions (SQL queries)
3. Build dashboard (drag-drop)
4. Auto-refresh every 5 min

---

## [12:30-14:00] ALERTAS SLACK

**[MOSTRA n8n workflow]**

```javascript
const metrics = await db.query('SELECT COUNT(*) FROM leads WHERE created_at > NOW() - INTERVAL 24 hours');

if (metrics.count < 50) {
  await slack.send({
    channel: '#alerts',
    message: '⚠️ Apenas 50 leads em 24h (esperado: 60+)'
  });
}
```

Alertas proativos.

---

## [14:00-15:00] RECAP

Dashboard:
- Metabase (grátis, open-source)
- Métricas real-time
- Funil completo
- Performance por fonte
- Alertas Slack

Próxima: Integração CRM.

Até!

**[FIM]**
