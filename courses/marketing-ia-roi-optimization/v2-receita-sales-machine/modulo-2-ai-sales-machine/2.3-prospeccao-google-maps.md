# Aula 2.3 - ProspecÃ§Ã£o Google Maps: Empresas Locais

**MÃ³dulo:** 2 - AI Sales Machine
**NÃ­vel:** 2 (FuncionÃ¡rio Aprendendo)
**Fase:** 1 - ProspecÃ§Ã£o Multi-Fonte (Aula 2 de 5)
**DuraÃ§Ã£o:** 15 minutos
**PrÃ©-requisito:** Aula 2.2 (ProspecÃ§Ã£o LinkedIn)

---

## ðŸŽ¯ OBJETIVO DA AULA

Ao final desta aula, vocÃª vai:
- âœ… Entender **por que Google Maps** Ã© uma fonte crÃ­tica de prospecÃ§Ã£o
- âœ… Conhecer o **Outscraper** (melhor API para scraping Google Maps)
- âœ… Configurar Outscraper no n8n
- âœ… Prospectar **50 empresas locais** (HANDS-ON)
- âœ… Filtrar por: categoria, localizaÃ§Ã£o, avaliaÃ§Ã£o, reviews

**O que vocÃª vai construir:** MÃ³dulo de prospecÃ§Ã£o Google Maps que encontra 800+ empresas locais/mÃªs.

---

## ðŸ“š PARTE 1: POR QUE GOOGLE MAPS?

### O problema do LinkedIn

**LinkedIn Ã© excelente para B2B, mas...**

âŒ **Empresas locais nÃ£o estÃ£o lÃ¡**
- Restaurantes, lojas, academias, salÃµes, clÃ­nicas
- Pequenos negÃ³cios (MEI, microempresas)
- Profissionais autÃ´nomos (eletricistas, encanadores, pintores)

âŒ **Donos nÃ£o usam LinkedIn**
- Dono de padaria nÃ£o tem perfil no LinkedIn
- Dono de petshop nÃ£o atualiza LinkedIn
- MecÃ¢nico nÃ£o tÃ¡ no LinkedIn

**Onde essas empresas ESTÃƒO?**

âœ… **Google Maps**

Todo negÃ³cio local precisa estar no Google Maps para ser encontrado por clientes.

### O potencial do Google Maps

**NÃºmeros:**
- 200+ milhÃµes de empresas cadastradas
- 150+ paÃ­ses
- Dados atualizados diariamente
- Reviews, fotos, horÃ¡rios, telefone, website

**Exemplo prÃ¡tico:**

VocÃª vende **software de gestÃ£o para restaurantes** em SÃ£o Paulo.

**LinkedIn:**
- Busca: "Restaurant Manager SÃ£o Paulo"
- Resultado: 50-100 perfis (maioria redes grandes)
- Decisor: difÃ­cil identificar dono

**Google Maps:**
- Busca: "Restaurante SÃ£o Paulo"
- Resultado: **15.000+ restaurantes**
- Decisor: telefone direto do dono
- QualificaÃ§Ã£o: avaliaÃ§Ã£o, nÃºmero de reviews, fotos

**Google Maps ganha.**

---

## ðŸ” PARTE 2: COMO FUNCIONA O GOOGLE MAPS SCRAPING

### O que Ã© scraping?

**DefiniÃ§Ã£o:** Extrair dados estruturados de pÃ¡ginas web.

No caso do Google Maps:
- VocÃª busca "Restaurante SÃ£o Paulo"
- Google retorna lista de lugares
- Scraper extrai: nome, endereÃ§o, telefone, website, avaliaÃ§Ã£o, etc.

### Por que nÃ£o manualmente?

**Copiar 1.000 empresas do Google Maps manualmente:**
- 3 minutos por empresa
- 3.000 minutos = 50 horas
- R$ 15/hora Ã— 50 = R$ 750

**Com scraping (Outscraper):**
- 5 minutos para configurar
- R$ 0,01 por empresa
- 1.000 empresas = R$ 10

**75x mais barato + 600x mais rÃ¡pido**

---

## ðŸ› ï¸ PARTE 3: OUTSCRAPER - A MELHOR API

### O que Ã© Outscraper?

**Outscraper** Ã© uma plataforma que faz scraping de Google Maps (e outros Google services).

**Website:** https://outscraper.com

**O que retorna:**

Por cada empresa, vocÃª recebe:
```json
{
  "name": "Restaurante Bella Vista",
  "category": "Italian restaurant",
  "address": "Rua Augusta, 1234 - SÃ£o Paulo, SP",
  "phone": "+55 11 99999-9999",
  "website": "https://bellavista.com.br",
  "rating": 4.5,
  "reviews": 342,
  "price_level": "$$",
  "hours": {
    "Monday": "11:00 AM â€“ 11:00 PM",
    "Tuesday": "11:00 AM â€“ 11:00 PM"
  },
  "latitude": -23.5505,
  "longitude": -46.6333,
  "place_id": "ChIJN1t_tDeuEmsRUsoyG83frY4",
  "photos": ["https://...jpg", "https://...jpg"]
}
```

**Dados ricos para qualificaÃ§Ã£o!**

### Alternativas

| ServiÃ§o | Custo | Dados | LimitaÃ§Ãµes |
|---------|-------|-------|------------|
| **Outscraper** | $0.01/lugar | Completo | - |
| Apify | $0.02/lugar | Completo | Mais caro |
| ScraperAPI | $0.05/request | BÃ¡sico | Precisa construir parser |
| Scraping manual | R$ 0,75/lugar | Completo | Lento, insustentÃ¡vel |

**RecomendaÃ§Ã£o:** Outscraper (melhor custo-benefÃ­cio)

---

## ðŸ’° PARTE 4: PRICING E SETUP OUTSCRAPER

### Planos Outscraper

| Plano | Custo/mÃªs | Requests | Custo por request |
|-------|-----------|----------|-------------------|
| **Free** | $0 | 100 | $0 |
| **Starter** | $39 | 5.000 | $0.0078 |
| **Professional** | $99 | 15.000 | $0.0066 |
| **Business** | $249 | 50.000 | $0.0050 |

**CÃ¡lculo para 800 empresas/mÃªs:**

```
800 empresas/mÃªs Ã· 30 dias = 27 empresas/dia

Custo: 800 Ã— $0.0078 = $6.24/mÃªs

Plano recomendado: Starter ($39/mÃªs)
```

**VocÃª paga R$ 200/mÃªs e tem crÃ©ditos para 5.000 empresas.**

### O que conta como "request"?

**1 request = 1 busca no Google Maps**

Exemplos:
- Busca "Restaurante SÃ£o Paulo" â†’ retorna 100 lugares â†’ **1 request**
- Busca "Academia Rio de Janeiro" â†’ retorna 50 lugares â†’ **1 request**

**NÃ£o** conta por resultado, conta por **busca**.

### Criar conta Outscraper

**Passo a passo:**

1. Acesse: https://outscraper.com
2. Clique em **"Sign Up"**
3. Preencha:
   - Email
   - Senha
   - Nome da empresa
4. Verifique email
5. Complete onboarding

**ApÃ³s criar conta:**
- VocÃª ganha 100 requests grÃ¡tis para testar
- Depois, upgrade para Starter ($39/mÃªs)

---

## ðŸ”‘ PARTE 5: OBTER API KEY

### Onde encontrar a API Key

1. FaÃ§a login no Outscraper
2. Clique no seu perfil (canto superior direito)
3. **Settings**
4. Sidebar esquerda: **"API"**

**VocÃª verÃ¡:**

```
API Key
Your API key is:
[â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢]
         [Copy]
```

### Gerar nova API Key

**Se vocÃª ainda nÃ£o tem uma:**

1. Na seÃ§Ã£o **"API"**, clique em **"Generate New API Key"**
2. Confirme
3. Key serÃ¡ exibida UMA VEZ

**âš ï¸ IMPORTANTE:**
- Copie e salve em lugar seguro
- NÃ£o compartilhe publicamente
- Se vazar, regenere imediatamente

### Copiar a API Key

1. Clique no botÃ£o **"Copy"**
2. VocÃª verÃ¡ algo como:
   ```
   OutscraperAPIKey_abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
   ```
3. Salve em arquivo de texto temporariamente

---

## ðŸ”§ PARTE 6: CONFIGURAR OUTSCRAPER NO N8N

### Criar credencial HTTP Request

**Outscraper nÃ£o tem node nativo no n8n** - usamos HTTP Request.

**Passo a passo:**

1. No n8n, crie um novo workflow
2. Adicione um node **"HTTP Request"**
3. Renomeie para **"Google Maps Scraper"**

### Configurar autenticaÃ§Ã£o

1. No node, clique em **"Credentials"**
2. **"Create New"** â†’ **"Header Auth"**
3. Configure:

**Name:** `Outscraper API`

**Headers:**
- **Name:** `X-API-Key`
- **Value:** [Cole sua Outscraper API Key]

4. **Test Connection** (ainda nÃ£o vai funcionar - precisa configurar request)
5. **Save**

### Configurar endpoint

Ainda no node **"HTTP Request"**, configure:

**Method:** `GET`

**URL:** `https://api.outscraper.com/maps/search-v3`

**Query Parameters:**

Clique em **"Add Parameter"** e adicione:

| Name | Value |
|------|-------|
| `query` | `Restaurante SÃ£o Paulo` (teste) |
| `language` | `pt` |
| `region` | `BR` |
| `limit` | `50` |

---

## ðŸ“ PARTE 7: ESTRUTURA DO REQUEST

### Query Parameters Explicados

**ObrigatÃ³rios:**

- **`query`**: O que buscar no Google Maps
  - Exemplo: `"Restaurante SÃ£o Paulo"`
  - Exemplo: `"Academia Rio de Janeiro"`
  - Exemplo: `"SalÃ£o de beleza Belo Horizonte"`

**Opcionais (mas recomendados):**

- **`language`**: Idioma dos resultados
  - `pt` (PortuguÃªs)
  - `en` (InglÃªs)
  - `es` (Espanhol)

- **`region`**: RegiÃ£o/PaÃ­s
  - `BR` (Brasil)
  - `US` (Estados Unidos)
  - `AR` (Argentina)

- **`limit`**: Quantos resultados retornar
  - PadrÃ£o: 100
  - MÃ¡ximo: 500 por request
  - Recomendado: 50-100

- **`coordinates`**: Coordenadas geogrÃ¡ficas (opcional)
  - Formato: `latitude,longitude`
  - Exemplo: `-23.5505,-46.6333` (SÃ£o Paulo)

### Query Parameters AvanÃ§ados

**Filtros:**

- **`min_rating`**: AvaliaÃ§Ã£o mÃ­nima
  - Exemplo: `4.0` (sÃ³ lugares com 4+ estrelas)

- **`min_reviews`**: NÃºmero mÃ­nimo de reviews
  - Exemplo: `10` (sÃ³ lugares com 10+ reviews)

- **`price_level`**: NÃ­vel de preÃ§o
  - `$` (barato)
  - `$$` (mÃ©dio)
  - `$$$` (caro)
  - `$$$$` (muito caro)

**Exemplo completo:**

```
https://api.outscraper.com/maps/search-v3
  ?query=Restaurante+italiano+SÃ£o+Paulo
  &language=pt
  &region=BR
  &limit=100
  &min_rating=4.0
  &min_reviews=20
```

Retorna: 100 restaurantes italianos em SP com 4+ estrelas e 20+ reviews

---

## ðŸŽ¯ PARTE 8: HANDS-ON - PROSPECTAR 50 EMPRESAS

### Setup do exercÃ­cio

**CenÃ¡rio:** VocÃª vende software de gestÃ£o para restaurantes em SÃ£o Paulo.

**Objetivo:** Prospectar 50 restaurantes qualificados.

### Passo 1: Configurar o request

No node "Google Maps Scraper", configure:

**URL:** `https://api.outscraper.com/maps/search-v3`

**Query Parameters:**

```
query: Restaurante SÃ£o Paulo
language: pt
region: BR
limit: 50
min_rating: 4.0
min_reviews: 10
```

**Por que esses filtros?**
- `min_rating: 4.0` â†’ Restaurantes bem avaliados (sÃ©rios)
- `min_reviews: 10` â†’ Estabelecidos (nÃ£o novos demais)

### Passo 2: Executar o request

1. Clique em **"Execute Node"**
2. Aguarde ~10 segundos (Outscraper processa)
3. Veja o response

### Passo 3: Analisar o response

**Response do Outscraper:**

```json
{
  "data": [
    {
      "name": "Restaurante Bella Vista",
      "full_address": "Rua Augusta, 1234 - ConsolaÃ§Ã£o, SÃ£o Paulo - SP, 01304-001",
      "borough": "ConsolaÃ§Ã£o",
      "street": "Rua Augusta, 1234",
      "postal_code": "01304-001",
      "country": "Brazil",
      "country_code": "BR",
      "city": "SÃ£o Paulo",
      "state": "State of SÃ£o Paulo",
      "phone": "+55 11 99999-9999",
      "site": "https://bellavista.com.br",
      "type": "Italian restaurant",
      "category": "Italian restaurant",
      "subtypes": "Restaurant, Italian restaurant",
      "rating": 4.5,
      "reviews": 342,
      "reviews_link": "https://www.google.com/maps/place/...",
      "reviews_per_score": {
        "1": 5,
        "2": 8,
        "3": 15,
        "4": 80,
        "5": 234
      },
      "photos_count": 156,
      "photo": "https://lh5.googleusercontent.com/...",
      "working_hours": "Monday: 11:00 AM â€“ 11:00 PM; Tuesday: 11:00 AM â€“ 11:00 PM; ...",
      "price_level": "$$",
      "latitude": -23.5505,
      "longitude": -46.6333,
      "place_id": "ChIJN1t_tDeuEmsRUsoyG83frY4"
    },
    // ... mais 49 restaurantes
  ]
}
```

**Dados Ãºteis para prospecÃ§Ã£o:**
- âœ… Nome (Ã³bvio)
- âœ… Telefone (contato direto)
- âœ… Website (se tem, Ã© sÃ©rio)
- âœ… Rating + Reviews (qualificaÃ§Ã£o)
- âœ… EndereÃ§o completo (para visita presencial se necessÃ¡rio)
- âœ… Fotos (tamanho do estabelecimento)

### Passo 4: Extrair dados relevantes

Adicione um node **"Function"** apÃ³s o "Google Maps Scraper".

**Code:**

```javascript
const items = $input.all();

// Outscraper retorna array em data[0].data
const places = items[0].json.data;

return places.map(place => ({
  json: {
    name: place.name,
    phone: place.phone || 'N/A',
    website: place.site || 'N/A',
    address: place.full_address,
    city: place.city,
    rating: place.rating,
    reviews: place.reviews,
    category: place.category,
    price_level: place.price_level || 'N/A',
    google_maps_url: `https://www.google.com/maps/place/?q=place_id:${place.place_id}`,
    // Dados de qualificaÃ§Ã£o
    has_website: place.site ? 'Yes' : 'No',
    high_rating: place.rating >= 4.5 ? 'Yes' : 'No',
    many_reviews: place.reviews >= 50 ? 'Yes' : 'No'
  }
}));
```

**O que esse cÃ³digo faz:**
- Extrai sÃ³ os campos relevantes
- Cria flags de qualificaÃ§Ã£o (has_website, high_rating, etc.)
- Gera URL do Google Maps para cada lugar

### Passo 5: Salvar em Google Sheets

Adicione um node **"Google Sheets"** apÃ³s o "Function".

**ConfiguraÃ§Ã£o:**
- **Operation:** Append
- **Sheet Name:** `Prospects - Google Maps`
- **Columns:** Nome | Telefone | Website | EndereÃ§o | Cidade | Rating | Reviews | Categoria | Google Maps

**Execute o workflow completo:**

1. Google Maps Scraper â†’ busca 50 restaurantes
2. Function â†’ extrai dados relevantes
3. Google Sheets â†’ salva na planilha

### Resultado esperado

**Planilha populada com 50 restaurantes:**

```
Nome                  | Telefone           | Website              | Rating | Reviews
----------------------|--------------------|----------------------|--------|--------
Bella Vista           | +55 11 9999-9999   | bellavista.com.br    | 4.5    | 342
Trattoria Moderna     | +55 11 8888-8888   | trattoria.com        | 4.7    | 156
Casa do Chef          | +55 11 7777-7777   | N/A                  | 4.2    | 89
```

**Taxa de sucesso esperada:**
- 80-90% tÃªm telefone
- 40-60% tÃªm website
- 100% tÃªm endereÃ§o e rating

---

## ðŸ“Š PARTE 9: FILTROS AVANÃ‡ADOS E OTIMIZAÃ‡ÃƒO

### Usar categories especÃ­ficas

Google Maps tem categorias padronizadas.

**Em vez de buscar genÃ©rico:**
```
query: Restaurante SÃ£o Paulo
```

**Busque por categoria especÃ­fica:**
```
query: Italian restaurant SÃ£o Paulo
query: Pizza restaurant SÃ£o Paulo
query: Japanese restaurant SÃ£o Paulo
```

**Vantagem:** Resultados mais qualificados

### Buscar por regiÃ£o/bairro

**Em vez de cidade inteira:**
```
query: Restaurante SÃ£o Paulo
â†’ Retorna 15.000+ resultados (muito genÃ©rico)
```

**Busque por bairro:**
```
query: Restaurante Pinheiros SÃ£o Paulo
query: Restaurante Vila Madalena SÃ£o Paulo
query: Restaurante Jardins SÃ£o Paulo
```

**Vantagem:** Resultados mais especÃ­ficos, fÃ¡cil segmentar por regiÃ£o

### Usar coordenadas geogrÃ¡ficas

**Para buscas muito precisas:**

```
query: Restaurante
coordinates: -23.5505,-46.6333
radius: 5000
```

**ParÃ¢metros:**
- `coordinates`: lat,long do centro
- `radius`: raio em metros (5000 = 5km)

**Vantagem:** Busca circular ao redor de um ponto (ex: ao redor do seu escritÃ³rio)

### Filtrar por horÃ¡rio de funcionamento

**Buscar sÃ³ lugares abertos:**

```
query: Restaurante SÃ£o Paulo
open_now: true
```

**Vantagem:** SÃ³ retorna lugares que estÃ£o abertos no momento do scraping

---

## ðŸš€ PARTE 10: ESCALAR PARA 800 EMPRESAS/MÃŠS

### EstratÃ©gia de prospecÃ§Ã£o em lote

**Objetivo:** 800 empresas/mÃªs = ~27 empresas/dia

**Abordagem:**

1. **Definir 8 categorias** (ex: restaurantes, academias, salÃµes, clÃ­nicas, etc.)
2. **Buscar 100 de cada categoria** por mÃªs
3. **Total:** 8 Ã— 100 = 800/mÃªs

**Exemplo - VocÃª vende software de gestÃ£o:**

```
Categoria 1: Restaurantes (100/mÃªs)
Categoria 2: Cafeterias (100/mÃªs)
Categoria 3: Bares (100/mÃªs)
Categoria 4: Food trucks (100/mÃªs)
Categoria 5: Padarias (100/mÃªs)
Categoria 6: Lanchonetes (100/mÃªs)
Categoria 7: Pizzarias (100/mÃªs)
Categoria 8: Fast food (100/mÃªs)
```

### Automatizar com n8n Schedule

**Workflow com schedule diÃ¡rio:**

```
Trigger: Schedule (todo dia 7am)
  â†“
HTTP Request: Busca 27 empresas (categoria rotativa)
  â†“
Function: Extrai dados
  â†“
Google Sheets: Append
  â†“
Slack: Notifica "27 novos prospects adicionados"
```

**RotaÃ§Ã£o de categorias:**

```javascript
const categories = [
  "Restaurante",
  "Cafeteria",
  "Bar",
  "Food truck",
  "Padaria",
  "Lanchonete",
  "Pizzaria",
  "Fast food"
];

const today = new Date().getDate();
const categoryIndex = today % categories.length;
const category = categories[categoryIndex];

return {
  json: {
    query: `${category} SÃ£o Paulo`
  }
};
```

**Resultado:** Cada dia busca uma categoria diferente, 27 empresas/dia, 800/mÃªs.

---

## ðŸ“ˆ PARTE 11: QUALIFICAÃ‡ÃƒO DOS LEADS

### Scoring baseado em dados do Google Maps

Nem toda empresa do Google Maps vale a pena prospectar.

**CritÃ©rios de qualificaÃ§Ã£o:**

```javascript
function scorePlace(place) {
  let score = 0;

  // Rating (max 30 pontos)
  if (place.rating >= 4.5) score += 30;
  else if (place.rating >= 4.0) score += 20;
  else if (place.rating >= 3.5) score += 10;

  // Reviews (max 25 pontos)
  if (place.reviews >= 100) score += 25;
  else if (place.reviews >= 50) score += 15;
  else if (place.reviews >= 20) score += 10;

  // Website (20 pontos)
  if (place.site) score += 20;

  // Fotos (15 pontos - indica cuidado com presenÃ§a online)
  if (place.photos_count >= 50) score += 15;
  else if (place.photos_count >= 20) score += 10;

  // Price level (10 pontos - lugares mais caros = mais budget)
  if (place.price_level === '$$$' || place.price_level === '$$$$') {
    score += 10;
  }

  return score; // 0-100
}
```

**ClassificaÃ§Ã£o:**
- 80-100: HOT (abordar imediatamente)
- 60-79: WARM (nutrir)
- 0-59: COLD (skip ou long-term nurture)

---

## âœ… CHECKLIST DE CONCLUSÃƒO

Ao final desta aula, vocÃª deve ter:

- [ ] Conta Outscraper criada (plano Starter recomendado)
- [ ] API Key copiada e salva
- [ ] Node "Google Maps Scraper" configurado no n8n
- [ ] Workflow completo: Scrape â†’ Extract â†’ Save
- [ ] 50 empresas locais prospectadas com sucesso
- [ ] Planilha "Prospects - Google Maps" populada
- [ ] Entendimento de filtros (rating, reviews, category, coordinates)
- [ ] EstratÃ©gia para escalar para 800 empresas/mÃªs

---

## ðŸŽ¯ PRÃ“XIMA AULA: 2.4 - APOLLO DATABASE SEARCH

**O que vem a seguir:**

VocÃª agora tem 2 fontes:
- LinkedIn: 500 profissionais B2B/mÃªs
- Google Maps: 800 empresas locais/mÃªs

Na prÃ³xima aula, vamos adicionar a **terceira fonte**:
- **Apollo Database Search:** 200 leads high-fit/mÃªs

Apollo nÃ£o Ã© sÃ³ enrichment. Ã‰ uma database com 275M+ contatos que vocÃª pode buscar diretamente.

**Prepare-se:**
- Upgrade Apollo para plano Professional ($99/mÃªs)
- Acesse Apollo Search (nÃ£o sÃ³ Match)

---

## ðŸ“š RECURSOS ADICIONAIS

### DocumentaÃ§Ã£o:
- Outscraper API: https://outscraper.com/docs/google-maps-api/
- Google Maps categories: https://developers.google.com/maps/documentation/places/web-service/supported_types
- n8n HTTP Request: https://docs.n8n.io/nodes/n8n-nodes-base.httpRequest/

### Templates:
- `google-maps-queries-by-industry.txt` - 100 queries prontas
- `maps-scoring-calculator.js` - Function para scoring
- `maps-to-sheets-workflow.json` - Workflow completo

### Compliance:
- Google Maps Terms of Service: https://www.google.com/intl/pt-BR_br/help/terms_maps/
- LGPD: Dados pÃºblicos do Google Maps (OK para uso comercial)

---

**VersÃ£o:** 2.0
**Data:** 2025-12-02
**Gerado por:** Course Architect (CreatorOS)
**Fonte:** Google Maps (800 empresas/mÃªs)
