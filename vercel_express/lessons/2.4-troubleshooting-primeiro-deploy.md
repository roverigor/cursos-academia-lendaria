# Aula 2.4: Troubleshooting - Erros do Primeiro Deploy

**Módulo:** 2 - Primeiro Deploy
**Duração:** 5 minutos
**Tipo:** Troubleshooting guide

---

## Objetivo da Aula

Ao final desta aula, o aluno vai:
- Resolver erro "Build failed"
- Resolver erro "Framework not detected"
- Resolver erro "Module not found"

---

## Roteiro

### ABERTURA (15 segundos)

```
[TELA: Mensagem de erro vermelha]
```

**NARRAÇÃO:**

> Deu erro? Calma. Isso é normal.
>
> Vou te mostrar os 3 erros mais comuns no primeiro deploy e como resolver cada um em segundos.

---

### BLOCO 1: BUILD FAILED - ERRO NO CÓDIGO (1.5 minutos)

```
[TELA: Logs com "Build failed"]
```

**NARRAÇÃO:**

> **Erro mais comum:** "Build failed"
>
> Isso geralmente significa que tem algo errado no seu código que impede a compilação.

```
[DESTAQUE: Mensagem de erro específica]
```

> **Como diagnosticar:**
>
> Role até o final dos logs e leia a mensagem de erro. Vai ser algo tipo:

```
[TELA: Exemplos de erros]
```

> - `SyntaxError: Unexpected token` → Erro de sintaxe no código
> - `Type error: Property X does not exist` → Erro de TypeScript
> - `Cannot find module './componente'` → Import errado
>
> **Como resolver:**
>
> 1. Abre seu terminal local
> 2. Roda `npm run build`
> 3. Veja se dá o mesmo erro
> 4. Corrija o erro
> 5. Commit e push
> 6. Vercel vai tentar de novo automaticamente

```
[TELA: Terminal mostrando npm run build]
```

> **Regra de ouro:** Se funciona local, funciona na Vercel. Se não funciona local, não adianta deployar.

---

### BLOCO 2: FRAMEWORK NOT DETECTED (1.5 minutos)

```
[TELA: Mensagem "Framework not detected"]
```

**NARRAÇÃO:**

> **Segundo erro comum:** A Vercel não conseguiu identificar seu framework.
>
> **Por que acontece:**
> - `package.json` não tá na raiz do repositório
> - Projeto não usa framework reconhecido
> - Falta script de build no `package.json`

```
[TELA: Estrutura de pastas incorreta]
```

> **Como resolver - Opção 1: Root Directory**
>
> Se seu projeto tá numa subpasta:
> 1. Volta pro dashboard
> 2. Settings → General → Root Directory
> 3. Coloca o caminho da pasta (ex: `frontend`)
> 4. Redeploy

```
[TELA: Configuração de Root Directory]
```

> **Como resolver - Opção 2: Configurar manualmente**
>
> Se a Vercel não reconhece o framework:
> 1. Na hora do import, seleciona "Other" no Framework Preset
> 2. Configura Build Command manualmente (ex: `npm run build`)
> 3. Configura Output Directory (ex: `dist`, `build`, `.next`)

```
[TELA: Configuração manual]
```

> **Como resolver - Opção 3: Verificar package.json**
>
> Certifica que seu `package.json` tem o script `build`:

```json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",  ← precisa ter isso
    "start": "next start"
  }
}
```

---

### BLOCO 3: MODULE NOT FOUND (1.5 minutos)

```
[TELA: Erro "Cannot find module"]
```

**NARRAÇÃO:**

> **Terceiro erro comum:** `Cannot find module './algo'`
>
> Isso significa que você tá importando algo que não existe.

```
[DESTAQUE: Exemplo do erro]
```

> **Causas mais comuns:**

```
[TELA: Lista de causas]
```

> 1. **Typo no caminho:** `./Componente` vs `./componente` (case sensitive!)
> 2. **Arquivo não commitado:** Você criou o arquivo mas esqueceu de dar commit
> 3. **Extensão errada:** `.tsx` vs `.ts` vs `.js`
> 4. **Dependência não instalada:** Falta no `package.json`
>
> **Como resolver:**

```
[TELA: Checklist de verificação]
```

> 1. Verifica se o arquivo existe no caminho exato
> 2. Verifica se o nome tá escrito igual (maiúsculas/minúsculas)
> 3. Roda `git status` - arquivo tá commitado?
> 4. Se for pacote npm, verifica se tá no `package.json`
>
> **Dica:** Linux (que a Vercel usa) diferencia maiúsculas de minúsculas. Windows e Mac não. Então `Header.tsx` e `header.tsx` são arquivos diferentes no deploy.

---

### FECHAMENTO (30 segundos)

```
[TELA: Tabela resumo]
```

**NARRAÇÃO:**

> Resumo rápido:

| Erro | Causa | Solução |
|------|-------|---------|
| Build failed | Erro no código | `npm run build` local, corrigir |
| Framework not detected | Estrutura errada | Root Directory ou config manual |
| Module not found | Import errado | Verificar caminho e case |

> Esses 3 cobrem 80% dos problemas do primeiro deploy.
>
> No próximo módulo, vamos resolver o problema mais chato de todos: environment variables. Até já!

---

## Recursos Visuais Necessários

1. Mensagem "Build failed" com destaque
2. Exemplos de erros de sintaxe
3. Terminal com `npm run build`
4. Estrutura de pastas incorreta vs correta
5. Configuração de Root Directory
6. Tabela resumo dos erros

---

## Pontos-Chave para Memorização

- Build failed → rodar `npm run build` local primeiro
- Framework not detected → verificar Root Directory
- Module not found → verificar case sensitivity
- Linux diferencia maiúsculas/minúsculas!
