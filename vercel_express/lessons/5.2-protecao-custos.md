# Aula 5.2: Proteção Contra Custos Surpresa

**Módulo:** 5 - Evitando Problemas
**Duração:** 7 minutos
**Tipo:** Screencast + explicação

---

## Objetivo da Aula

Ao final desta aula, o aluno vai:
- Configurar spend limit
- Ativar proteção contra bots
- Monitorar usage no dashboard

---

## Roteiro

### ABERTURA (20 segundos)

```
[TELA: Tweet/meme de bill surpresa]
```

**NARRAÇÃO:**

> Você já viu aquelas histórias de horror: "Recebi uma conta de $10.000 da AWS" ou "Vercel me cobrou $500 do nada".
>
> Isso acontece. Mas é evitável. Vou te mostrar como se proteger.

---

### BLOCO 1: O QUE CAUSA BILLS SURPRESA (2 minutos)

```
[TELA: Lista de causas]
```

**NARRAÇÃO:**

> Primeiro, entende o que causa essas contas inesperadas:
>
> **1. Bots e Crawlers**

```
[DESTAQUE: Bots]
```

> Robôs da internet ficam acessando seu site automaticamente. Google, Bing, mas também bots maliciosos.
>
> Cada acesso = bandwidth. Milhares de bots = muito bandwidth.
>
> **2. DDoS Acidental**

```
[DESTAQUE: DDoS]
```

> Alguém posta seu site no Hacker News ou Reddit. Milhões de acessos em horas.
>
> Ótimo pra ego, ruim pra conta.
>
> **3. Loops de API**

```
[DESTAQUE: Loops]
```

> Você fez um código que chama sua API em loop infinito. Cada chamada gasta function execution.
>
> Bug no código → milhares de requests → conta alta.
>
> **4. Imagens Pesadas**

```
[DESTAQUE: Imagens]
```

> Subiu imagens de 5MB cada. Cada acesso baixa tudo. Bandwidth estoura rápido.

---

### BLOCO 2: SPEND MANAGEMENT (2 minutos)

```
[SCREENCAST: Dashboard da Vercel]
```

**NARRAÇÃO:**

> A Vercel tem uma feature incrível: **Spend Management**.
>
> Você define um limite máximo de gasto. Se chegar nesse limite, a Vercel pausa seu projeto ao invés de continuar cobrando.

```
[AÇÃO: Navegar até Settings → Billing]
```

> 1. Vai no dashboard
> 2. Clica no seu avatar → **Settings**
> 3. Vai em **Billing**
> 4. Procura **Spend Management**

```
[DESTAQUE: Spend Management]
```

> Aqui você pode definir:
> - **Budget Amount**: Quanto você aceita gastar por mês
> - **Actions**: O que fazer quando atingir (pausar, alertar)

```
[AÇÃO: Configurar um limite]
```

> **Minha recomendação pra iniciantes:**
> - Budget: $0 ou $5
> - Isso significa: se por algum motivo você sair do free tier, para tudo e me avisa
>
> Assim você nunca vai ter surpresa.

---

### BLOCO 3: PROTEÇÃO CONTRA BOTS (1.5 minutos)

```
[SCREENCAST: Configurações do projeto]
```

**NARRAÇÃO:**

> A Vercel também tem proteção contra bots.
>
> No seu projeto, vai em **Settings** → **Security**.

```
[AÇÃO: Navegar até Security]
```

> Aqui você tem opções como:
>
> **Attack Challenge Mode**
> - Adiciona um desafio automático pra acessos suspeitos
> - Bots não conseguem passar
>
> **Firewall Rules** (Pro)
> - Bloqueia IPs específicos
> - Limita requests por IP

```
[DESTAQUE: Attack Challenge]
```

> No Hobby, o **Attack Challenge** já ajuda bastante.
>
> Se você tiver um pico suspeito de tráfego, ativa isso temporariamente.

---

### BLOCO 4: MONITORANDO USAGE (1 minuto)

```
[SCREENCAST: Usage dashboard]
```

**NARRAÇÃO:**

> Por fim, monitore seu uso regularmente.
>
> No menu do seu avatar, vai em **Usage**.

```
[AÇÃO: Clicar em Usage]
```

> Aqui você vê:
> - Bandwidth usado vs limite
> - Function execution usado vs limite
> - Builds feitos

```
[DESTAQUE: Gráficos de uso]
```

> Se você ver que tá chegando perto do limite, investiga.
>
> **Dica:** Coloca um lembrete mensal pra checar isso. 5 minutos por mês evita dor de cabeça.

---

### FECHAMENTO (30 segundos)

```
[TELA: Checklist de proteção]
```

**NARRAÇÃO:**

> Checklist de proteção:
>
> ✅ Spend Management configurado (limite $0 ou $5)
> ✅ Saber onde fica o Usage dashboard
> ✅ Attack Challenge ativado se necessário
> ✅ Imagens otimizadas (não subir 5MB cada)
>
> Com isso, você tá protegido. Pode dormir tranquilo.
>
> Próxima aula: quando faz sentido pagar? Quando ir pro Pro?

---

## Recursos Visuais Necessários

1. Meme/referência de bill surpresa
2. Lista de causas (bots, DDoS, loops, imagens)
3. Tela de Spend Management
4. Tela de Security/Attack Challenge
5. Dashboard de Usage
6. Checklist final

---

## Pontos-Chave para Memorização

- Spend Management = limite de gastos
- Configurar limite de $0-5 no início
- Attack Challenge = proteção contra bots
- Verificar Usage mensalmente
- Otimizar imagens sempre
