# Aula 3.3: Configurando no Vercel Dashboard

**Módulo:** 3 - Environment Variables
**Duração:** 7 minutos
**Tipo:** Screencast

---

## Objetivo da Aula

Ao final desta aula, o aluno vai:
- Adicionar env vars no dashboard
- Entender os ambientes (Production, Preview, Development)
- Fazer redeploy após adicionar variáveis

---

## Roteiro

### ABERTURA (15 segundos)

```
[SCREENCAST: Dashboard da Vercel]
```

**NARRAÇÃO:**

> Teoria entendida. Agora vamos colocar a mão na massa e configurar suas env vars na Vercel.

---

### BLOCO 1: ACESSANDO AS CONFIGURAÇÕES (1 minuto)

```
[SCREENCAST: Navegando até Environment Variables]
```

**NARRAÇÃO:**

> No dashboard, clica no seu projeto.

```
[AÇÃO: Clicar no projeto]
```

> Agora vai em **Settings** no menu superior.

```
[AÇÃO: Clicar em Settings]
```

> E na barra lateral, clica em **Environment Variables**.

```
[AÇÃO: Clicar em Environment Variables]
```

> Aqui é onde a mágica acontece. Você vai ver uma tela pra adicionar variáveis.

---

### BLOCO 2: ADICIONANDO UMA VARIÁVEL (2 minutos)

```
[SCREENCAST: Formulário de env vars]
```

**NARRAÇÃO:**

> Vamos adicionar uma variável. Clica em **Add New** ou preenche os campos direto.

```
[AÇÃO: Focar no campo Name]
```

> **Name:** O nome da sua variável.
>
> Importante:
> - Usa letras maiúsculas
> - Separa palavras com underscore
> - Exemplo: `GOOGLE_MAPS_API_KEY`
>
> Se precisa no navegador, não esquece do `NEXT_PUBLIC_`:
> - `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`

```
[AÇÃO: Digitar o nome]
```

> **Value:** O valor da variável. A senha em si.

```
[AÇÃO: Digitar o valor]
```

> Não precisa colocar aspas. Só o valor puro.
>
> **Environments:** Onde essa variável vai funcionar.

```
[DESTAQUE: Checkboxes de ambiente]
```

> Você tem três opções:
>
> - **Production** ✅ - O site em produção (domínio principal)
> - **Preview** ✅ - Branches de teste (pull requests)
> - **Development** ⬜ - Raramente usado (é pro `vercel dev`)
>
> Na maioria das vezes, marca **Production** e **Preview**. Assim funciona em todos os ambientes.

```
[AÇÃO: Marcar as checkboxes e clicar Save]
```

> Clica em **Save**.

---

### BLOCO 3: O PASSO QUE TODO MUNDO ESQUECE (1.5 minutos)

```
[TELA: Alerta destacado]
```

**NARRAÇÃO:**

> **ATENÇÃO:** Adicionar a variável NÃO é suficiente.
>
> Você precisa fazer **REDEPLOY**.

```
[SCREENCAST: Voltando pro projeto]
```

> A Vercel só lê as env vars no momento do build. Se você adiciona uma variável nova e não faz redeploy, o build antigo não conhece ela.
>
> É como guardar uma chave nova no cofre, mas não avisar ninguém onde ela tá.
>
> **Como fazer redeploy:**
>
> Opção 1: Vai em **Deployments**, clica nos três pontinhos do último deploy, e clica em **Redeploy**.

```
[AÇÃO: Clicar em Redeploy]
```

> Opção 2: Faz qualquer commit e push. Deploy automático.
>
> Opção 3: Na página do projeto, tem um botão "Redeploy" às vezes.

```
[TELA: Checklist visual]
```

> **Checklist toda vez que adicionar env var:**
> 1. Adicionar no dashboard ✅
> 2. Marcar os ambientes certos ✅
> 3. Fazer REDEPLOY ✅ ← esse que esquece

---

### BLOCO 4: VERIFICANDO SE FUNCIONOU (1.5 minutos)

```
[SCREENCAST: Logs de build]
```

**NARRAÇÃO:**

> Depois do redeploy, como saber se funcionou?
>
> **Nos logs de build:** A Vercel não mostra os valores, mas mostra que as variáveis existem:

```
[DESTAQUE: Seção de env vars nos logs]
```

> Você vai ver algo tipo:
> `Environment Variables: GOOGLE_MAPS_API_KEY, DATABASE_URL`
>
> **No seu código:** Adiciona um console.log temporário:

```javascript
// Só pra testar, depois remove!
console.log("API Key existe?", !!process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY);
```

> Se aparecer `true`, funcionou.
>
> **No DevTools:** Se usou `NEXT_PUBLIC_`, pode buscar o valor no JavaScript (como mostrei na aula anterior).

---

### BLOCO 5: DICA AVANÇADA - VARIÁVEIS DIFERENTES POR AMBIENTE (30 segundos)

```
[TELA: Mesma variável, valores diferentes]
```

**NARRAÇÃO:**

> Dica rápida: você pode ter valores diferentes da mesma variável em cada ambiente.
>
> Por exemplo:
> - Production: `DATABASE_URL` → banco de produção
> - Preview: `DATABASE_URL` → banco de teste
>
> Pra isso, adiciona a mesma variável duas vezes, cada uma com ambiente diferente.
>
> Isso evita que você bagunce dados de produção quando tá testando.

---

### FECHAMENTO (15 segundos)

```
[TELA: Resumo dos passos]
```

**NARRAÇÃO:**

> Recapitulando:
>
> 1. Settings → Environment Variables
> 2. Name + Value + Ambientes
> 3. Save
> 4. **REDEPLOY** (não esquece!)
>
> Próxima aula: o que fazer quando a variável não funciona. Troubleshooting!

---

## Recursos Visuais Necessários

1. Navegação no dashboard
2. Formulário de env vars
3. Checkboxes de ambiente destacadas
4. Alerta de REDEPLOY
5. Logs de build mostrando variáveis
6. Exemplo de variáveis por ambiente

---

## Pontos-Chave para Memorização

- Settings → Environment Variables
- Marcar Production + Preview
- SEMPRE fazer REDEPLOY após adicionar
- Verificar nos logs se foi reconhecida
