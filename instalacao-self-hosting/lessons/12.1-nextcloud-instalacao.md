---
lesson_id: "12.1"
title: "Instalando Nextcloud"
module: 12
module_name: "Armazenamento: Nextcloud"
duration_minutes: 6
format: video_script
status: draft
tool: nextcloud
substitutes: "Google Drive, Dropbox, OneDrive"
savings_year: 1200
connection_dre: "Economia R$ 1.200/ano + privacidade"
learning_objectives:
  - Instalar Nextcloud via Portainer
  - Entender o que Nextcloud oferece
  - Acessar pela primeira vez
prerequisites:
  - Módulo 3 completo (Docker + Portainer)
---

# AULA 12.1: Instalando Nextcloud

## METADADOS DA GRAVAÇÃO

| Item | Valor |
|------|-------|
| Duração alvo | 6 minutos |
| Cenário | Tela compartilhada (Portainer + Navegador) |
| Tom | Privacidade, controle |

---

## ROTEIRO COMPLETO

### [CONEXÃO DRE] - 20 segundos

**[INSTRUTOR NA CÂMERA]**

> Google Drive cobra R$ 35/mês por 2TB. Dropbox, R$ 60/mês.
>
> Nextcloud é seu próprio Drive — o espaço depende da sua VPS.
>
> **Economia: R$ 1.200/ano.** E seus arquivos ficam 100% com você.

---

### [O QUE É NEXTCLOUD] - 30 segundos

**[TELA: Screenshot Nextcloud]**

> Nextcloud é uma plataforma completa de produtividade:
>
> - Armazenamento de arquivos
> - Sincronização entre dispositivos
> - Edição de documentos (Office)
> - Calendário, Contatos
> - Chat, Videochamada
>
> Tudo que Google Workspace oferece. Auto-hospedado.

---

### [INSTALAÇÃO VIA PORTAINER] - 2 minutos

**[TELA: Portainer]**

> Stacks → Add Stack → Nome: `nextcloud`
>
> **[COLA O COMPOSE]**

```yaml
version: "3.8"
services:
  nextcloud:
    image: nextcloud:latest
    container_name: nextcloud
    restart: unless-stopped
    environment:
      - POSTGRES_HOST=nextcloud-db
      - POSTGRES_DB=nextcloud
      - POSTGRES_USER=nextcloud
      - POSTGRES_PASSWORD=senha-do-banco
      - NEXTCLOUD_ADMIN_USER=admin
      - NEXTCLOUD_ADMIN_PASSWORD=sua-senha-admin
      - NEXTCLOUD_TRUSTED_DOMAINS=drive.seudominio.com.br
    volumes:
      - nextcloud_data:/var/www/html
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.nextcloud.rule=Host(`drive.seudominio.com.br`)"
      - "traefik.http.routers.nextcloud.entrypoints=websecure"
      - "traefik.http.routers.nextcloud.tls.certresolver=letsencrypt"
      - "traefik.http.services.nextcloud.loadbalancer.server.port=80"
    networks:
      - traefik_proxy
      - nextcloud_internal

  nextcloud-db:
    image: postgres:15
    container_name: nextcloud-db
    restart: unless-stopped
    environment:
      - POSTGRES_USER=nextcloud
      - POSTGRES_PASSWORD=senha-do-banco
      - POSTGRES_DB=nextcloud
    volumes:
      - nextcloud_db:/var/lib/postgresql/data
    networks:
      - nextcloud_internal

volumes:
  nextcloud_data:
  nextcloud_db:

networks:
  traefik_proxy:
    external: true
  nextcloud_internal:
```

> **[EXPLICA]**
>
> Troca domínio, senhas.
>
> **[DEPLOY]**
>
> Esse demora uns 2-3 min pra inicializar tudo.

---

### [PRIMEIRO ACESSO] - 60 segundos

**[TELA: Navegador]**

> Acessa: `drive.seudominio.com.br`
>
> **[MOSTRA SETUP]**
>
> Se configurou no compose, já vai direto pro login.
>
> **[LOGIN]**
>
> admin / sua-senha-admin
>
> **[MOSTRA INTERFACE]**
>
> Esse é o Nextcloud!
>
> Olha: Arquivos, Fotos, Activity...
>
> Interface parecida com Google Drive.

---

### [CHECKPOINT] - 15 segundos

> **CHECKPOINT:**
>
> Se você está vendo a interface de arquivos, funcionou!

---

### [PRÓXIMA AÇÃO] - 15 segundos

**[INSTRUTOR NA CÂMERA]**

> Nextcloud instalado!
>
> Na próxima aula, a gente instala apps, configura compartilhamento e sincronização.

---

## NOTAS DE PRODUÇÃO

### Espaço:
- Depende do disco da VPS
- Pode adicionar discos externos

### Subdomínio:
- drive.seudominio.com.br

### Duração real: 6 minutos
