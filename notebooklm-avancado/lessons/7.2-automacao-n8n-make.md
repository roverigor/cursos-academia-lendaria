# Aula 7.2 - Automa√ß√£o com n8n/Make.com

**M√≥dulo:** 7 - Workflows e Automa√ß√£o Profissional
**Dura√ß√£o:** 25 minutos
**Tipo:** Tutorial T√©cnico Passo-a-Passo

---

## Objetivo da Aula

Criar workflows automatizados que alimentam e extraem dados do NotebookLM usando n8n e Make.com.

---

## Pr√©-requisitos

- Conta n8n (self-hosted ou cloud) OU conta Make.com
- Entendimento b√°sico de APIs e webhooks
- Curso Express conclu√≠do

---

## Roteiro de Grava√ß√£o

### INTRODU√á√ÉO (0:00 - 2:00)

**[CENA: Instrutor em c√¢mera]**

At√© agora, tudo foi manual: voc√™ carrega sources, faz perguntas, copia outputs.

E se isso acontecesse **automaticamente**?

Exemplos:
- Novo artigo no feed RSS ‚Üí Automaticamente no NotebookLM
- An√°lise semanal ‚Üí Gerada e enviada por email toda segunda
- Cliente submete documento ‚Üí An√°lise pronta em minutos

Ferramentas para isso:
- **n8n** ‚Äî Open source, self-hosted ou cloud, mais flex√≠vel
- **Make.com** ‚Äî No-code, mais f√°cil, pago

Vamos construir um workflow real.

---

### PARTE 1: ARQUITETURA DE AUTOMA√á√ÉO (2:00 - 5:00)

**[CENA: Diagrama na tela]**

#### O Desafio:

NotebookLM **n√£o tem API p√∫blica oficial** (ainda). Ent√£o como automatizar?

---

#### Estrat√©gias Dispon√≠veis:

```
ESTRAT√âGIA 1: PREPARA√á√ÉO DE SOURCES (mais comum)
Automatizar COLETA de conte√∫do ‚Üí Preparar para upload manual

Trigger ‚Üí Coleta ‚Üí Processa ‚Üí Salva em pasta
                                    ‚Üì
                            Upload manual no NotebookLM

ESTRAT√âGIA 2: GOOGLE WORKSPACE INTEGRATION
Usar Google Drive como ponte:
Trigger ‚Üí Salva em Google Drive ‚Üí NotebookLM l√™ do Drive

ESTRAT√âGIA 3: API ENTERPRISE (paga)
Para quem tem NotebookLM Enterprise:
Trigger ‚Üí API ‚Üí NotebookLM ‚Üí API ‚Üí Output

ESTRAT√âGIA 4: BROWSER AUTOMATION (avan√ßado)
Puppeteer/Playwright controlando o navegador
(N√£o recomendado para produ√ß√£o - fr√°gil)
```

**Foco desta aula:** Estrat√©gias 1 e 2 (mais pr√°ticas).

---

### PARTE 2: WORKFLOW COM N8N (5:00 - 15:00)

**[CENA: Screencast - n8n interface]**

#### Workflow: Reddit ‚Üí Google Drive ‚Üí NotebookLM Ready

**Caso de uso:** Monitorar subreddit, coletar posts relevantes, preparar para an√°lise.

---

#### Passo 1: Setup n8n

**[DEMONSTRAR]**
1. Acesse n8n (cloud.n8n.io ou self-hosted)
2. Crie novo workflow
3. Nomeie: "Reddit to NotebookLM Prep"

---

#### Passo 2: Trigger (Schedule)

**[DEMONSTRAR]**
1. Adicione node: "Schedule Trigger"
2. Configure: Every day at 9:00 AM
3. Isso dispara o workflow diariamente

```json
{
  "rule": {
    "interval": [
      {
        "field": "hours",
        "value": 9
      }
    ]
  }
}
```

---

#### Passo 3: Coletar do Reddit

**[DEMONSTRAR]**
1. Adicione node: "HTTP Request"
2. Configure:
   - URL: `https://www.reddit.com/r/[SUBREDDIT]/top.json?t=day&limit=10`
   - Method: GET

```
Exemplo para r/artificial:
https://www.reddit.com/r/artificial/top.json?t=day&limit=10
```

3. O Reddit retorna JSON com posts do dia

---

#### Passo 4: Processar Posts

**[DEMONSTRAR]**
1. Adicione node: "Code" (JavaScript)
2. Extraia t√≠tulo, conte√∫do, URL de cada post:

```javascript
const posts = $input.all()[0].json.data.children;

return posts.map(post => ({
  json: {
    title: post.data.title,
    content: post.data.selftext || post.data.url,
    score: post.data.score,
    url: `https://reddit.com${post.data.permalink}`,
    created: new Date(post.data.created_utc * 1000).toISOString()
  }
}));
```

---

#### Passo 5: Formatar para NotebookLM

**[DEMONSTRAR]**
1. Adicione node: "Code"
2. Compile em documento √∫nico:

```javascript
const posts = $input.all();
const date = new Date().toISOString().split('T')[0];

let document = `# Reddit Daily Digest - r/artificial
Date: ${date}
Posts: ${posts.length}

---

`;

posts.forEach((post, i) => {
  document += `## ${i+1}. ${post.json.title}

Score: ${post.json.score}
URL: ${post.json.url}

${post.json.content}

---

`;
});

return [{ json: { content: document, filename: `reddit-digest-${date}.md` }}];
```

---

#### Passo 6: Salvar no Google Drive

**[DEMONSTRAR]**
1. Adicione node: "Google Drive"
2. Configure:
   - Operation: Upload
   - File Name: `={{ $json.filename }}`
   - File Content: `={{ $json.content }}`
   - Folder: "NotebookLM Sources"

3. Conecte sua conta Google

---

#### Passo 7: Notifica√ß√£o (Opcional)

**[DEMONSTRAR]**
1. Adicione node: "Slack" ou "Email"
2. Notifique que novo digest est√° pronto

```
"üì∞ Reddit Digest pronto!
Arquivo: {{ $json.filename }}
Posts: X
Pronto para an√°lise no NotebookLM."
```

---

#### Workflow Completo:

```
[Schedule: 9AM] ‚Üí [HTTP: Reddit] ‚Üí [Code: Parse] ‚Üí
[Code: Format] ‚Üí [Google Drive: Save] ‚Üí [Slack: Notify]
```

**[MOSTRAR workflow completo no n8n]**

---

### PARTE 3: WORKFLOW COM MAKE.COM (15:00 - 20:00)

**[CENA: Screencast - Make.com interface]**

#### Mesmo Workflow, Interface Diferente

**[DEMONSTRAR]**
1. Criar novo Scenario
2. Adicionar m√≥dulos:

```
[Schedule] ‚Üí [HTTP] ‚Üí [Iterator] ‚Üí [Text Aggregator] ‚Üí [Google Drive]
```

---

#### Diferen√ßas Make vs n8n:

| Aspecto | n8n | Make.com |
|---------|-----|----------|
| Pre√ßo | Gratuito (self-host) ou pago | Pago (freemium) |
| C√≥digo | Permite JavaScript | No-code only |
| Flexibilidade | Alta | M√©dia |
| Facilidade | M√©dia | Alta |
| Hospedagem | Self ou cloud | Cloud only |

**Recomenda√ß√£o:**
- Iniciantes: Make.com
- T√©cnicos/volume alto: n8n

---

### PARTE 4: OUTROS WORKFLOWS √öTEIS (20:00 - 23:00)

**[CENA: Instrutor em c√¢mera + diagramas]**

#### Workflow 2: Newsletter ‚Üí NotebookLM

```
[Email Trigger: Newsletter recebida]
    ‚Üì
[Parse Email: Extrair conte√∫do]
    ‚Üì
[Format: Converter para Markdown]
    ‚Üì
[Google Drive: Salvar]
    ‚Üì
[Notion: Logar na database]
```

---

#### Workflow 3: Transcri√ß√£o de Reuni√£o ‚Üí An√°lise

```
[Google Meet: Reuni√£o termina]
    ‚Üì
[Google Drive: Pegar transcri√ß√£o]
    ‚Üì
[Format: Limpar e estruturar]
    ‚Üì
[Google Drive: Pasta NotebookLM]
    ‚Üì
[Slack: "Transcri√ß√£o pronta para an√°lise"]
```

---

#### Workflow 4: Competitive Monitor

```
[Schedule: Semanal]
    ‚Üì
[HTTP: Scrape p√°gina de concorrente]
    ‚Üì
[Compare: Com vers√£o anterior]
    ‚Üì
[If Changed: Salvar nova vers√£o]
    ‚Üì
[Google Drive: Pasta Intel]
```

---

### PARTE 5: TEMPLATES DISPON√çVEIS (23:00 - 24:30)

**[CENA: Tela com recursos]**

#### Download de Templates:

Nos recursos do curso voc√™ encontra:

```
resources/
‚îú‚îÄ‚îÄ templates-automacao-n8n.json     ‚Üê Importar no n8n
‚îú‚îÄ‚îÄ templates-automacao-make.json    ‚Üê Importar no Make
‚îî‚îÄ‚îÄ guia-automacao.md                ‚Üê Documenta√ß√£o
```

**Workflows inclu√≠dos:**
1. Reddit Digest
2. RSS Feed Collector
3. Newsletter Parser
4. Meeting Transcription Prep
5. Competitive Monitor

---

### FECHAMENTO (24:30 - 25:00)

**[CENA: Instrutor em c√¢mera]**

Voc√™ agora automatiza a coleta de informa√ß√£o.

**Fluxo t√≠pico:**
1. Automatize coleta (n8n/Make)
2. Salve em Google Drive
3. NotebookLM l√™ do Drive
4. An√°lise quando quiser

**Miss√£o:**
1. Instale n8n ou crie conta Make.com
2. Implemente o workflow de Reddit
3. Teste por 3 dias
4. Analise o digest acumulado no NotebookLM

**Pr√≥xima aula:** Projeto pr√°tico ‚Äî seu primeiro workflow automatizado completo.

---

## Notas de Produ√ß√£o

**Elementos visuais:**
- Interface n8n em tela cheia
- Interface Make.com em tela cheia
- Diagramas de workflow
- C√≥digo com syntax highlighting

**Tom:**
- T√©cnico mas did√°tico
- Passo a passo detalhado
- Pausas para acompanhamento

---

## Checklist de Grava√ß√£o

- [ ] n8n instalado e funcionando
- [ ] Make.com conta ativa
- [ ] Workflow de Reddit testado
- [ ] Google Drive conectado
- [ ] Templates JSON prontos
- [ ] Exemplos de output

---

## Entreg√°veis

‚Üí `resources/templates-automacao-n8n.json`
‚Üí `resources/guia-automacao.md`
