# MMOS Mind Structure Paths Configuration
#
# This file defines which files/folders the CreatorOS should load from MMOS minds
# when integrating instructor personas into course generation.
#
# Location: expansion-packs/creator-os/config/mmos-paths.yaml
# Used by: lib/mmos_integrator.py
# Version: 1.0 (MMOS v3.0 structure)
#
# HOW TO CUSTOMIZE:
# 1. Edit paths under each category to match your MMOS mind structure
# 2. Add fallback paths (checked in order, first existing file wins)
# 3. Set optional: true for non-required files
# 4. Restart CreatorOS to apply changes

version: "1.0"
mmos_version: "3.0"

# Root directory containing all MMOS minds
minds_directory: "outputs/minds"

# File paths relative to outputs/minds/{mind_slug}/
# Format: List of paths (priority order - first existing file is used)

paths:
  # ═══════════════════════════════════════════════════════════
  # IDENTITY & CORE PERSONALITY
  # ═══════════════════════════════════════════════════════════

  identity_core:
    description: "Core identity data (name, traits, values, worldview)"
    paths:
      - "artifacts/identity_core.yaml"          # v3.0 primary
      - "analysis/identity-core.yaml"           # v2.x fallback
    required: true
    used_for:
      - "instructor_name extraction"
      - "tone calculation (via traits mapping)"
      - "core_values list"
      - "worldview dictionary"

  cognitive_architecture:
    description: "Cognitive and personality profile"
    paths:
      - "artifacts/cognitive_architecture.yaml"  # v3.0 primary
      - "artifacts/cognitive-spec.yaml"          # v3.0 alternate naming
      - "analysis/cognitive-spec.yaml"           # v2.x fallback
    required: true
    used_for:
      - "resumo_personalidade (description)"
      - "estilo_comunicacao (style)"
      - "estilo_decisao (decision-making)"
      - "abordagem_problemas (problem-solving)"
      - "abordagem_ensino (teaching approach fallback)"

  psychometric_profile:
    description: "Psychometric assessment (Big Five, etc.)"
    paths:
      - "artifacts/psychometric_profile.yaml"    # v3.0
      - "analysis/psychometric-profile.yaml"     # v2.x fallback
    required: false  # Optional - used as fallback for identity validation
    used_for:
      - "Alternative identity validation (if identity_core missing)"

  # ═══════════════════════════════════════════════════════════
  # COMMUNICATION STYLE & VOICE
  # ═══════════════════════════════════════════════════════════

  communication_style:
    description: "Communication patterns, language, phrases, interaction style"
    paths:
      - "artifacts/communication_templates.md"   # v3.0 primary
      - "kb/communication_style_final.md"        # v3.0 KB fallback
      - "synthesis/communication-style.md"       # v2.x fallback
      - "artifacts/writing_style.yaml"           # Alternative format
    required: true  # Required OR system_prompts must exist
    used_for:
      - "language_patterns extraction (## Padrões de Linguagem)"
      - "recurring_phrases extraction (## Frases Recorrentes)"
      - "interaction_style extraction (## Estilo de Interação)"

    # Sections to extract (regex patterns)
    sections:
      language_patterns:
        - "##\\s*Padrões de Linguagem"
        - "##\\s*Language Patterns"
        - "##\\s*Vocabulário"
        - "##\\s*Vocabulary"
      recurring_phrases:
        - "##\\s*Frases Recorrentes"
        - "##\\s*Catchphrases"
        - "##\\s*Signature Phrases"
        - "##\\s*Bordões"
      interaction_style:
        - "##\\s*Estilo de Interação"
        - "##\\s*Interaction Style"
        - "##\\s*Como Interage"

  # ═══════════════════════════════════════════════════════════
  # TEACHING PHILOSOPHY & FRAMEWORKS
  # ═══════════════════════════════════════════════════════════

  frameworks:
    description: "Teaching philosophy, pedagogical frameworks, mental models"
    paths:
      - "artifacts/frameworks_synthesized.md"    # v3.0 primary
      - "kb/frameworks_final.md"                 # v3.0 KB fallback
      - "synthesis/frameworks.md"                # v2.x fallback
    required: false  # Optional - provides +10% confidence bonus
    used_for:
      - "teaching_philosophy extraction (## Filosofia de Ensino)"

    sections:
      teaching_philosophy:
        - "##\\s*Filosofia de Ensino"
        - "##\\s*Teaching Philosophy"
        - "##\\s*Abordagem Pedagógica"
        - "##\\s*Pedagogical Approach"

  # ═══════════════════════════════════════════════════════════
  # SYSTEM PROMPTS (for lesson generation)
  # ═══════════════════════════════════════════════════════════

  system_prompts:
    description: "System prompts for AI lesson generation (95%+ voice fidelity)"
    directory: "system_prompts"

    # Priority order for system prompt files
    priority_files:
      - "generalista.md"                         # Primary
      - "system-prompt-generalista.md"           # Alternate naming
      - "generalista/v1.0.0.md"                  # Versioned subdirectory
      - "*.md"                                   # Any .md file

    # Files to exclude
    exclude:
      - "CHANGELOG.md"
      - "README.md"
      - "changelog.md"
      - "readme.md"

    required: false  # Required OR communication_style must exist
    used_for:
      - "Injection into lesson generation context"
      - "Voice fidelity target: 95%+"

  # ═══════════════════════════════════════════════════════════
  # METADATA
  # ═══════════════════════════════════════════════════════════

  metadata:
    description: "Mind metadata (version, creation date, etc.)"
    paths:
      - "metadata.yaml"
      - "meta.yaml"
    required: false
    used_for:
      - "version field only (for display)"

# ═══════════════════════════════════════════════════════════
# EXTRACTION CONFIGURATION
# ═══════════════════════════════════════════════════════════

extraction:
  # Maximum items to extract from lists
  max_items:
    language_patterns: 5
    recurring_phrases: 10
    core_values: 5
    worldview_items: 3
    teaching_philosophy_bullets: 5

  # Minimum content lengths for confidence scoring
  min_lengths:
    communication_style: 500      # characters
    frameworks: 200                # characters
    teaching_philosophy: 100       # characters

  # YAML field names to extract (customize for different MMOS versions)
  yaml_fields:
    identity_core:
      name: "nome_completo"
      traits: "tracos_personalidade"
      values: "valores_centrais"
      worldview: "visao_de_mundo"

    cognitive_architecture:
      personality_summary: "resumo_personalidade"
      occupation: "ocupacao_principal"
      communication_style: "estilo_comunicacao"
      teaching_approach: "abordagem_ensino"
      decision_style: "estilo_decisao"
      problem_solving: "abordagem_problemas"
      interaction_style: "estilo_interacao"

    metadata:
      version: "version"

# ═══════════════════════════════════════════════════════════
# CONFIDENCE SCORE WEIGHTS
# ═══════════════════════════════════════════════════════════

confidence_scoring:
  # Total: 100 points
  weights:
    identity_core: 30
      # nome_completo: 10
      # valores_centrais (≥3): 10
      # visao_de_mundo: 10

    cognitive_architecture: 30
      # resumo_personalidade: 10
      # estilo_comunicacao: 10
      # abordagem_problemas: 10

    communication_style: 30
      # length >500 chars: 15
      # has structured sections: 15

    frameworks: 10  # Bonus
      # length >200 chars: 10

  # Minimum confidence threshold for valid minds
  min_confidence: 40  # Below this, warn user

# ═══════════════════════════════════════════════════════════
# TONE MAPPING
# ═══════════════════════════════════════════════════════════

tone_mapping:
  # Maps Portuguese traits to English teaching tone descriptors
  # Used when extracting tone from identity_core.tracos_personalidade

  "Inspirador": "Inspirational, motivational"
  "Pragmático": "Practical, no-nonsense"
  "Empático": "Warm, supportive"
  "Analítico": "Logical, structured"
  "Criativo": "Innovative, outside-the-box"
  "Direto": "Direct, straightforward"
  "Acessível": "Approachable, friendly"
  "Técnico": "Technical, precise"
  "Visionário": "Visionary, forward-thinking"
  "Paciente": "Patient, understanding"
  "Entusiasta": "Enthusiastic, energetic"
  "Reflexivo": "Thoughtful, reflective"
  "Objetivo": "Objective, focused"
  "Colaborativo": "Collaborative, inclusive"
  "Desafiador": "Challenging, provocative"

# ═══════════════════════════════════════════════════════════
# FALLBACK VALUES
# ═══════════════════════════════════════════════════════════

fallbacks:
  # Used when data is missing or incomplete

  tone: "Professional, clear"
  style: "Clear and engaging"
  interaction_style: "Engages directly with learners"
  personality_summary: "MMOS cognitive clone"
  teaching_philosophy: ""  # Empty if not found

# ═══════════════════════════════════════════════════════════
# VALIDATION RULES
# ═══════════════════════════════════════════════════════════

validation:
  # A valid MMOS mind must have:
  # (identity OR cognitive OR psychometric) AND (communication_style OR system_prompts)

  require_at_least_one:
    identity_group:
      - identity_core
      - cognitive_architecture
      - psychometric_profile

    voice_group:
      - communication_style
      - system_prompts

# ═══════════════════════════════════════════════════════════
# SPECIAL DIRECTORIES TO IGNORE
# ═══════════════════════════════════════════════════════════

ignore_folders:
  - ".git"
  - ".DS_Store"
  - "__pycache__"
  - "node_modules"
  - "README.md"
  - "CLONES_STATUS.md"
  - "catalog.md"

# ═══════════════════════════════════════════════════════════
# USAGE EXAMPLES
# ═══════════════════════════════════════════════════════════

# Example 1: Override for MMOS v2.x structure
# Just change the paths priority order:
#
# identity_core:
#   paths:
#     - "analysis/identity-core.yaml"     # v2.x primary
#     - "artifacts/identity_core.yaml"    # v3.0 fallback

# Example 2: Add custom voice files
#
# communication_style:
#   paths:
#     - "custom/my-voice-profile.md"      # Custom primary
#     - "artifacts/communication_templates.md"  # Standard fallback

# Example 3: Change maximum extracted items
#
# extraction:
#   max_items:
#     recurring_phrases: 20  # Default: 10

# Example 4: Add new tone mappings
#
# tone_mapping:
#   "Humorístico": "Humorous, witty"
#   "Sério": "Serious, formal"

---

# CHANGELOG
#
# v1.0 (2025-10-20):
# - Initial configuration for MMOS v3.0 structure
# - Support for v2.x fallback paths
# - Configurable extraction limits
# - Tone mapping dictionary
# - Confidence scoring weights
# - Validation rules
