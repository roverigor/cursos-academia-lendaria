# Aula 2.16: Meeting Booking AutomÃ¡tico (Calendly + AI)

**MÃ³dulo:** 2 - AI Sales Machine
**NÃ­vel:** 2
**DuraÃ§Ã£o:** 15 min

---

## ğŸ¯ Objetivos

1. Automatizar agendamento com Calendly API
2. Enviar confirmaÃ§Ã£o + prep email automaticamente
3. Sync com Google Calendar
4. Reminder 24h antes + 1h antes
5. No-show handling

---

## ğŸ“Š Calendly Integration

### Setup Calendly

1. [calendly.com](https://calendly.com)
2. **Event Types** â†’ Create â†’ "15-Min Discovery Call"
3. **Integrations** â†’ API â†’ Generate API Key
4. Salvar em `.env`:

```bash
CALENDLY_API_KEY=your_key_here
```

### n8n: Send Calendly Link

```json
{
  "name": "Send Calendly Link",
  "type": "n8n-nodes-base.gmail",
  "parameters": {
    "operation": "send",
    "to": "={{ $json.email }}",
    "subject": "Agende nosso call: {{ company }}",
    "body": "{{ first_name }},\n\nAqui estÃ¡ o link para agendar 15 min:\n\n{{ calendly_link }}\n\nEscolhe o melhor horÃ¡rio pra vocÃª!\n\nAbs,\n{{ sender }}"
  }
}
```

---

## ğŸ”” Automated Reminders

### Calendly Webhook â†’ n8n

```json
{
  "name": "Calendly Webhook",
  "type": "n8n-nodes-base.webhook",
  "parameters": {
    "path": "calendly-event-created",
    "httpMethod": "POST"
  }
}
```

### Process Event

```javascript
const event = $input.first().json;

return {
    json: {
        invitee_email: event.payload.email,
        invitee_name: event.payload.name,
        event_start_time: event.payload.scheduled_event.start_time,
        event_uri: event.payload.scheduled_event.uri
    }
};
```

### Send Confirmation Email

```
{{ name }}, confirmado!

ğŸ“… ReuniÃ£o agendada:
Data: {{ event_date }}
Hora: {{ event_time }}
DuraÃ§Ã£o: 15 minutos

ğŸ”— Link Google Meet: {{ meet_link }}

ğŸ“‹ Para aproveitar melhor:
- Pensa nos seus 3 maiores desafios em vendas
- Tenha nÃºmeros atuais (leads/mÃªs, reuniÃµes/mÃªs)
- Se possÃ­vel, tenha alguÃ©m de tech na call (CTO/Dev)

AtÃ© lÃ¡!
{{ sender }}
```

### Reminder 24h Before

```sql
-- Cron job: run daily
SELECT * FROM meetings
WHERE meeting_date BETWEEN NOW() + INTERVAL '23 hours' AND NOW() + INTERVAL '25 hours'
AND reminder_24h_sent = FALSE;
```

**Email:**
```
{{ name }}, lembrete! â°

ReuniÃ£o amanhÃ£:
{{ meeting_date }} Ã s {{ meeting_time }}

Link: {{ meet_link }}

AtÃ© amanhÃ£!
```

### Reminder 1h Before

```
{{ name }}, reuniÃ£o em 1 hora!

{{ meeting_time }}
Link: {{ meet_link }}

Qualquer imprevisto, me avisa.

Abs,
{{ sender }}
```

---

## ğŸš« No-Show Handling

### Detect No-Show

```javascript
// 15 min after scheduled time
const meeting = await db.query('SELECT * FROM meetings WHERE id = ?', [meetingId]);

if (!meeting.attended) {
    // Mark as no-show
    await db.query('UPDATE meetings SET status = ? WHERE id = ?', ['no_show', meetingId]);

    // Send follow-up
    await sendNoShowEmail(meeting.invitee_email);
}
```

### No-Show Email

```
{{ name }},

Vi que nÃ£o conseguiu entrar na reuniÃ£o de hoje.

Acontece! ğŸ˜„

Quer reagendar? Link: {{ calendly_link }}

Ou prefere que eu te ligue direto?

Abs,
{{ sender }}
```

---

## âœ… Checklist

- [ ] Calendly configured (15-min event)
- [ ] Calendly API key obtained
- [ ] Webhook: event created â†’ n8n
- [ ] Confirmation email sent automatically
- [ ] Reminder 24h before
- [ ] Reminder 1h before
- [ ] No-show detection + follow-up

---

**ğŸ“ Conceito:** Automatizar agendamento + reminders = 50% menos no-shows (de 30% â†’ 15%).
