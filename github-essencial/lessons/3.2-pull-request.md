# AULA 3.2: Pull Request Profissional

**Módulo:** 3 - Colaboração Profissional
**Duração:** 15 minutos
**Tipo:** Prático

---

## GPS DA AULA

### DESTINO (Onde você vai chegar)
Ao final desta aula, você vai:
- Criar Pull Requests profissionais com descrições claras
- Entender o fluxo completo: PR → Review → Merge
- Linkar issues e usar templates
- Fazer merge e deletar branch

### ORIGEM (De onde você vem)
Você provavelmente:
- Sabe criar branches (aula anterior)
- Nunca abriu um Pull Request
- Não sabe que recrutadores avaliam seus PRs

### ROTA (Como vamos chegar)
1. Entender o que é Pull Request
2. Aprender anatomia de um PR profissional
3. Criar PR com descrição completa
4. Fazer merge e cleanup

---

## ROTEIRO COMPLETO

### [ABERTURA] - 30 segundos

**[PROFESSOR DIZ:]**

> Você terminou sua feature. Código tá na sua branch. E agora?
>
> Você abre um Pull Request. É uma proposta formal: "aqui está minha mudança, por favor revise e integre".
>
> Pull Request é onde código é revisado, discutido e aprovado. É o coração da colaboração.
>
> Bora aprender.

---

### [O QUE É PULL REQUEST] - 1 minuto 30 segundos

[SLIDE 1 - Fluxo do PR]

**[PROFESSOR DIZ:]**

> Pull Request, ou PR, é uma proposta de mudança no código.
>
> O fluxo funciona assim:
>
> Você termina sua feature na branch. Abre um PR. O time revisa, comenta, sugere melhorias. Você ajusta. Quando aprovado, faz merge. Código integrado.
>
> [SLIDE 2 - Por que existe]
>
> Por que não mergear direto?
>
> Porque antes de ir pra main, código precisa ser revisado. Isso pega bugs, melhora qualidade, espalha conhecimento no time.
>
> [Pausa]
>
> Em empresas, nada entra na main sem PR aprovado. É regra.
>
> E recrutadores olham seus PRs. A qualidade da descrição, os comentários - tudo isso mostra sua maturidade profissional.

---

### [ANATOMIA DE UM PR PROFISSIONAL] - 2 minutos

[SLIDE 3 - Estrutura do PR]

**[PROFESSOR DIZ:]**

> Um PR profissional tem estrutura clara.
>
> **Título:** Curto e específico. `[Feature] Add user authentication with JWT`.
>
> **Descrição:** Dividida em seções.
>
> ```markdown
> ## Descrição
>
> O que você fez, em 1-2 parágrafos.
>
> ## Motivação
>
> Por que essa mudança é necessária. Closes #42.
>
> ## Mudanças
>
> Lista de bullet points do que mudou.
>
> ## Como Testar
>
> Passos para o revisor validar seu código.
> ```
>
> [SLIDE 4 - Exemplo real]
>
> Exemplo:
>
> ```markdown
> ## Descrição
>
> Implementa autenticação de usuário com JWT tokens.
>
> ## Motivação
>
> Closes #42 - Usuários não tinham como acessar áreas privadas.
>
> ## Mudanças
>
> - Adiciona endpoint POST /api/login
> - Implementa geração de JWT token
> - Cria middleware de autenticação
>
> ## Como Testar
>
> 1. Rode `npm start`
> 2. POST para /api/login com email e senha
> 3. Verifique que retorna token JWT
> ```
>
> [Pausa]
>
> Revisor olha isso e já sabe exatamente o que avaliar.

---

### [CRIANDO O PR] - 2 minutos

[SLIDE 5 - GitHub interface]

**[PROFESSOR DIZ:]**

> Depois que você faz push da branch, o GitHub facilita.
>
> Aparece um banner amarelo: "feature/sua-branch had recent pushes. Compare & pull request."
>
> Clica nesse botão.
>
> [SLIDE 6 - Formulário]
>
> Na tela de criação:
>
> **Base:** main - é onde você quer integrar
>
> **Compare:** sua branch - é de onde vem o código
>
> **Título:** Escreva algo claro. `[Feature] Add dark mode toggle`.
>
> **Descrição:** Use o template que eu mostrei.
>
> [Pausa]
>
> Se você não viu o banner, vai manualmente: Pull requests → New pull request → Seleciona as branches.
>
> Depois de preencher, clica em "Create pull request".

---

### [LINKANDO ISSUES] - 1 minuto

[SLIDE 7 - Keywords]

**[PROFESSOR DIZ:]**

> Se seu PR resolve uma issue, você linka assim:
>
> ```markdown
> Closes #42
> Fixes #123
> Resolves #456
> ```
>
> Quando o PR for mergeado, a issue fecha automaticamente.
>
> [Pausa]
>
> Se só quer mencionar sem fechar:
>
> ```markdown
> Related to #42
> See #123
> ```
>
> Isso cria link mas não fecha a issue.

---

### [FLUXO DE APROVAÇÃO] - 1 minuto 30 segundos

[SLIDE 8 - Fluxo visual]

**[PROFESSOR DIZ:]**

> Depois que você abre o PR, o fluxo é:
>
> **1. Checks automáticos.** Se o projeto tem CI/CD configurado, testes rodam automaticamente.
>
> **2. Code review.** Revisores olham o código, fazem comentários, pedem mudanças.
>
> **3. Você responde.** Faz novos commits pra ajustar. O PR atualiza automaticamente.
>
> **4. Aprovação.** Quando tá tudo certo, revisor aprova.
>
> **5. Merge.** Código vai pra main.
>
> [Pausa]
>
> Se você precisa fazer mais mudanças depois de abrir o PR, é só commitar e dar push na mesma branch. O PR atualiza sozinho.

---

### [EXERCÍCIO AO VIVO] - 4 minutos

[SLIDE 9 - Terminal + GitHub]

**[PROFESSOR DIZ:]**

> Vamos criar um PR de verdade.
>
> Se você fez a aula anterior, já tem a branch `feature/add-greeting` publicada.
>
> Vai no GitHub. Você deve ver o banner amarelo. Clica em "Compare & pull request".
>
> [Pausa]
>
> No formulário, preenche:
>
> **Título:**
>
> ```
> [Feature] Add greeting function
> ```
>
> **Descrição:**
>
> ```markdown
> ## Descrição
>
> Adiciona função de saudação reutilizável.
>
> ## Mudanças
>
> - Cria `greeting.js` com função `greet(name)`
> - Retorna saudação personalizada
>
> ## Como Testar
>
> ```bash
> node -e "console.log(require('./greeting')('World'))"
> # Deve mostrar: Hello, World!
> ```
>
> ## Checklist
>
> - [x] Código funciona
> - [x] Nome de função é descritivo
> ```
>
> Clica "Create pull request".
>
> [Pausa]
>
> Pronto. Seu PR tá aberto. Você pode ver as abas:
>
> - **Conversation:** discussão geral
> - **Commits:** histórico de commits da branch
> - **Files changed:** diff do código

---

### [FAZENDO MERGE] - 2 minutos

[SLIDE 10 - Opções de merge]

**[PROFESSOR DIZ:]**

> Quando o PR tá aprovado, você faz merge.
>
> O GitHub oferece 3 opções:
>
> **Merge commit:** Preserva histórico completo. Cria um commit de merge.
>
> **Squash and merge:** Junta todos os commits da branch em um só. Histórico mais limpo.
>
> **Rebase and merge:** Aplica commits diretamente na main, sem merge commit.
>
> [Pausa]
>
> Pra começar, recomendo **Squash and merge**. É o mais simples e deixa o histórico limpo.
>
> Clica no botão, confirma. Merge feito.
>
> [SLIDE 11 - Cleanup]
>
> Depois do merge, GitHub oferece "Delete branch". Clica pra limpar.
>
> No terminal, atualize seu local:
>
> ```bash
> git checkout main
> git pull
> git branch -d feature/add-greeting
> ```
>
> Agora o arquivo `greeting.js` existe na main.

---

### [FECHAMENTO] - 30 segundos

[SLIDE 12 - Resumo]

**[PROFESSOR DIZ:]**

> Recapitulando:
>
> - PR é proposta formal de mudança
> - Descrição clara: O que, Por que, Como testar
> - Linke issues com `Closes #123`
> - Responda feedback com novos commits
> - Depois do merge, delete a branch
>
> Pull Requests são seu cartão de visita técnico. Capriche neles.
>
> Na próxima aula, a gente vai aprender o outro lado: como revisar PRs de colegas.
>
> Te vejo lá.

---

## CHECKLIST DE ENTENDIMENTO

- [ ] Sei criar Pull Request no GitHub
- [ ] Escrevo descrições claras (o que, por que, como testar)
- [ ] Linko issues relacionadas
- [ ] Entendo fluxo: PR → Review → Merge
- [ ] Sei fazer merge e deletar branch

---

## ARTEFATO DA AULA

```
AULA 3.2 - PULL REQUEST
=======================

PR CRIADO:
[ ] Título: [type] descrição clara
[ ] Descrição com O QUE e POR QUE
[ ] Instruções de teste incluídas

PROCESSO:
[ ] Branch pushed para GitHub
[ ] PR criado via interface
[ ] Self-review feito antes de publicar

MERGE:
[ ] Merge realizado (squash)
[ ] Branch deletada
[ ] Local sincronizado: git pull

URL DO PR: _______________
```

---

## PROMPT DE IA PARA DESCRIÇÃO DE PR

```
Me ajude a escrever descrição profissional de Pull Request.

O QUE FIZ:
[descrever mudanças]

ARQUIVOS ALTERADOS:
[listar arquivos]

PROBLEMA QUE RESOLVI:
[descrever problema]

ISSUE RELACIONADA:
[número se tiver]

GERE:
1. Título profissional [type] descrição
2. Seção Descrição (2-3 sentenças)
3. Seção Mudanças (bullet points)
4. Seção Como Testar (passos)
```

---

## TROUBLESHOOTING

### Erro: "There isn't anything to compare"

> Branches são idênticas ou você não fez commits.
> ```bash
> git log --oneline main..feature/sua-branch
> # Deve mostrar seus commits
> ```

### Branch não aparece no GitHub

> Você esqueceu de fazer push.
> ```bash
> git push -u origin feature/sua-branch
> ```

### "Merge conflicts" no PR

> Veja aula 3.4 para resolver conflitos.

---

## ANEXO: SLIDES NECESSÁRIOS

| # | Título | Conteúdo |
|---|--------|----------|
| 1 | Fluxo do PR | Diagrama visual |
| 2 | Por que existe | Revisão, qualidade |
| 3 | Estrutura do PR | Template de descrição |
| 4 | Exemplo real | PR bem escrito |
| 5 | GitHub interface | Screenshot criação |
| 6 | Formulário | Base, compare, título |
| 7 | Keywords | Closes, Fixes, Resolves |
| 8 | Fluxo de aprovação | Review → Merge |
| 9 | Terminal + GitHub | Exercício ao vivo |
| 10 | Opções de merge | Merge, Squash, Rebase |
| 11 | Cleanup | Delete branch |
| 12 | Resumo | Checklist visual |

---

## COMANDOS DA AULA (COPIAR E COLAR)

```bash
# Push da branch (se ainda não fez)
git push -u origin feature/sua-branch

# Depois do merge, atualizar local
git checkout main
git pull

# Deletar branch local
git branch -d feature/sua-branch

# Ver histórico
git log --oneline
```

---

## TEMPLATE DE DESCRIÇÃO DE PR

```markdown
## Descrição

[O que você fez, em 1-2 parágrafos]

## Motivação

[Por que essa mudança é necessária]
Closes #[número da issue]

## Mudanças

- [Mudança 1]
- [Mudança 2]
- [Mudança 3]

## Como Testar

1. [Passo 1]
2. [Passo 2]
3. [Verificação]

## Checklist

- [ ] Código funciona
- [ ] Testes adicionados/passando
- [ ] Documentação atualizada
```

---

**Duração real:** 15 minutos
**Próximo:** Aula 3.3 - Code Review
